<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="App Store Connect API Now Supports Reading and Managing Customer Reviews" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="App Store Connect API 2.0+ comprehensive update, supports In-app purchases, Subscriptions, Customer Reviews management" /><meta property="og:description" content="App Store Connect API 2.0+ comprehensive update, supports In-app purchases, Subscriptions, Customer Reviews management" /><link rel="canonical" href="https://en.zhgchg.li/posts/f1365e51902c/" /><meta property="og:url" content="https://en.zhgchg.li/posts/f1365e51902c/" /><meta property="og:site_name" content="ZhgChgLi" /><meta property="og:image" content="https://en.zhgchg.li/assets/f1365e51902c/1*hHJ66r9BgJQsGnRYqbB_8g.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-20T22:50:44+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://en.zhgchg.li/assets/f1365e51902c/1*hHJ66r9BgJQsGnRYqbB_8g.png" /><meta property="twitter:title" content="App Store Connect API Now Supports Reading and Managing Customer Reviews" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@ZhgChgLi" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi"},"dateModified":"2024-04-14T10:18:42+08:00","datePublished":"2022-07-20T22:50:44+08:00","description":"App Store Connect API 2.0+ comprehensive update, supports In-app purchases, Subscriptions, Customer Reviews management","headline":"App Store Connect API Now Supports Reading and Managing Customer Reviews","image":"https://en.zhgchg.li/assets/f1365e51902c/1*hHJ66r9BgJQsGnRYqbB_8g.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://en.zhgchg.li/posts/f1365e51902c/"},"url":"https://en.zhgchg.li/posts/f1365e51902c/"}</script><title>App Store Connect API Now Supports Reading and Managing Customer Reviews | ZhgChgLi</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi"><meta name="application-name" content="ZhgChgLi"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">ZhgChgLi</a></div><div class="site-subtitle fst-italic">Live a life you will remember.</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/real/" class="nav-link"> <i class="fa-fw fa fa-camera-retro"></i> <span>REAL LIFE</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>App Store Connect API Now Supports Reading and Managing Customer Reviews</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>App Store Connect API Now Supports Reading and Managing Customer Reviews</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1658328644" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 20, 2022 </em> </span> <span> Updated <em class="" data-ts="1713061122" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 14, 2024 </em> </span><div class="mt-3 mb-3"> <a href="/assets/f1365e51902c/1*hHJ66r9BgJQsGnRYqbB_8g.png" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/assets/f1365e51902c/1*hHJ66r9BgJQsGnRYqbB_8g.png" alt="Preview Image" width="1200" height="630" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="952 words" > <em>5 min</em> read</span></div></div></div><div class="post-content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><h3 id="app-store-connect-api-now-supports-reading-and-managing-customer-reviews"><span class="me-2">App Store Connect API Now Supports Reading and Managing Customer Reviews</span><a href="#app-store-connect-api-now-supports-reading-and-managing-customer-reviews" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>App Store Connect API 2.0+ comprehensive update, supports In-app purchases, Subscriptions, Customer Reviews management</p><h3 id="20220719-news"><span class="me-2">2022/07/19 News</span><a href="#20220719-news" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/f1365e51902c/1*hHJ66r9BgJQsGnRYqbB_8g.png" class="popup img-link "><img data-src="/assets/f1365e51902c/1*hHJ66r9BgJQsGnRYqbB_8g.png" alt="[Upcoming transition from the XML feed to the App Store Connect API](https://developer.apple.com/news/?id=yqf4kgwb){:target=&quot;_blank&quot;}" class="lazyload" data-proofer-ignore></a></p><p><a href="https://developer.apple.com/news/?id=yqf4kgwb" target="_blank">Upcoming transition from the XML feed to the App Store Connect API</a></p><p>This morning, I received the <a href="https://developer.apple.com/news/rss/news.rss" target="_blank">latest news from Apple developers</a>, announcing that the App Store Connect API now supports three new features: In-app purchases, Subscriptions, and Customer Reviews management. This allows developers to more flexibly integrate Apple’s development process with CI/CD or business backends more closely and efficiently!</p><p>I haven’t touched In-app purchases or Subscriptions, but Customer Reviews excites me. I previously published an article titled “<a href="../cb0c68c33994/"><strong>AppStore APP’s Reviews Slack Bot</strong></a>” discussing ways to integrate App reviews with workflow.</p><p><a href="/assets/f1365e51902c/1*igukM7FTLxaX2hpVtFPMjQ.png" class="popup img-link "><img data-src="/assets/f1365e51902c/1*igukM7FTLxaX2hpVtFPMjQ.png" alt="Slack Review Bot — [ZReviewsBot](https://github.com/ZhgChgLi/ZReviewsBot){:target=&quot;_blank&quot;}" class="lazyload" data-proofer-ignore></a></p><p>Slack Review Bot — <a href="https://github.com/ZhgChgLi/ZReviewsBot" target="_blank">ZReviewsBot</a></p><p>Before the App Store Connect API supported this, there were only two ways to get iOS App reviews:</p><p><strong>First</strong> was to subscribe to <a href="https://rss.itunes.apple.com/zh-tw" target="_blank">Public RSS</a>, but this RSS feed couldn’t be flexibly filtered, provided limited information, had a quantity limit, and we occasionally encountered data corruption issues, making it very unstable.</p><p><strong>Second</strong> was through <a href="https://fastlane.tools/" target="_blank"><strong>Fastlane</strong></a> <strong>— <a href="https://github.com/fastlane/fastlane/tree/master/spaceship" target="_blank">SpaceShip</a></strong>, which encapsulated complex web operations and session management to fetch review data from the App Store Connection backend (essentially running a web simulator crawler to fetch data from the backend).</p><ul><li>The advantage was that the data was complete and stable; we integrated it for a year without any data issues.<li>The downside was that the session expired every month, requiring manual re-login, and since Apple ID now requires 2FA verification, this also had to be done manually to produce a valid session. Additionally, if the session was generated and used from different IPs, it would expire immediately (making it difficult to host the bot on a network service with a non-fixed IP).</ul><p><a href="/assets/f1365e51902c/0*iMQRza9LN3ljy2k1.png" class="popup img-link "><img data-src="/assets/f1365e51902c/0*iMQRza9LN3ljy2k1.png" alt="[important-note-about-session-duration](https://docs.fastlane.tools/best-practices/continuous-integration/#important-note-about-session-duration){:target=&quot;_blank&quot;} by Fastlane" class="lazyload" data-proofer-ignore></a></p><p><a href="https://docs.fastlane.tools/best-practices/continuous-integration/#important-note-about-session-duration" target="_blank">important-note-about-session-duration</a> by Fastlane</p><ul><li>Expire irregularly every month, need to update from time to time, it becomes really annoying over time; and this “ <strong>Know How</strong> “ is actually difficult to hand over to other colleagues.</ul><blockquote><p>But because there is no other way, we can only do this until we received the news this morning…</p></blockquote><blockquote><p><strong>⚠️ Note: The official plan is to cancel the original XML (RSS) access method in 2022/11.</strong></p></blockquote><h3 id="20220810-update"><span class="me-2">2022/08/10 Update</span><a href="#20220810-update" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>I have developed a new “ <a href="../e36e48bb9265/">ZReviewTender — Free and Open Source App Reviews Monitoring Bot</a> “ based on the new App Store Connect API.</p><h3 id="app-store-connect-api-20-customer-reviews-trial"><span class="me-2">App Store Connect API 2.0+ Customer Reviews Trial</span><a href="#app-store-connect-api-20-customer-reviews-trial" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="create-app-store-connect-api-key"><span class="me-2">Create App Store Connect API Key</span><a href="#create-app-store-connect-api-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>First, we need to log in to the App Store Connect backend, go to “Users and Access” -&gt; “Keys” -&gt; “ <a href="https://appstoreconnect.apple.com/access/api" target="_blank"><strong>App Store Connect API</strong></a> “:</p><p><a href="/assets/f1365e51902c/1*0NimMOcIqQ95nzjBBKYe8A.png" class="popup img-link "><img data-src="/assets/f1365e51902c/1*0NimMOcIqQ95nzjBBKYe8A.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Click “+”, enter the name and permissions; for detailed permissions, refer to the official website instructions. To reduce testing issues, select “App Manager” to grant maximum permissions.</p><p><a href="/assets/f1365e51902c/1*Bt8ddt7GrZs1ERaFamftVw.png" class="popup img-link "><img data-src="/assets/f1365e51902c/1*Bt8ddt7GrZs1ERaFamftVw.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Click “Download API Key” on the right to download and save your “AuthKey_XXX.p8” Key.</p><blockquote><p>⚠️ Note: This Key can only be downloaded once, please <strong>keep it safe</strong>. If lost, you can only Revoke the existing one &amp; create a new one. ⚠️</p></blockquote><blockquote><p><strong>⚠️ Do not leak the .p8 Key File ⚠️</strong></p></blockquote><h4 id="app-store-connect-api-access-method"><span class="me-2">App Store Connect API Access Method</span><a href="#app-store-connect-api-access-method" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-v</span> <span class="nt">-H</span> <span class="s1">'Authorization: Bearer [signed token]'</span> <span class="s2">"https://api.appstoreconnect.apple.com/v1/apps"</span>
</pre></table></code></div></div><h4 id="signed-token-jwt-json-web-token-generation-method"><span class="me-2">Signed Token (JWT, JSON Web Token) Generation Method</span><a href="#signed-token-jwt-json-web-token-generation-method" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Refer to <a href="https://developer.apple.com/documentation/appstoreconnectapi/generating_tokens_for_api_requests" target="_blank">official documentation</a>.</p><p><a href="/assets/f1365e51902c/1*KDv2ra17oSp5UXKy-VZA1g.png" class="popup img-link "><img data-src="/assets/f1365e51902c/1*KDv2ra17oSp5UXKy-VZA1g.png" alt="" class="lazyload" data-proofer-ignore></a></p><ul><li>JWT Header:</ul><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="err">kid:</span><span class="s2">"YOUR_KEY_ID"</span><span class="p">,</span><span class="w"> </span><span class="err">typ:</span><span class="s2">"JWT"</span><span class="p">,</span><span class="w"> </span><span class="err">alg:</span><span class="s2">"ES256"</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">YOUR_KEY_ID</code>: Refer to the image above.</p><ul><li>JWT Payload:</ul><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="err">iss:</span><span class="w"> </span><span class="err">'YOUR_ISSUE_ID'</span><span class="p">,</span><span class="w">
  </span><span class="err">iat:</span><span class="w"> </span><span class="err">TOKEN</span><span class="w"> </span><span class="err">creation</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">(UNIX</span><span class="w"> </span><span class="err">TIMESTAMP</span><span class="w"> </span><span class="err">e.g</span><span class="w"> </span><span class="mi">1658326020</span><span class="err">)</span><span class="p">,</span><span class="w">
  </span><span class="err">exp:</span><span class="w"> </span><span class="err">TOKEN</span><span class="w"> </span><span class="err">expiration</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">(UNIX</span><span class="w"> </span><span class="err">TIMESTAMP</span><span class="w"> </span><span class="err">e.g</span><span class="w"> </span><span class="mi">1658327220</span><span class="err">)</span><span class="p">,</span><span class="w">
  </span><span class="err">aud:</span><span class="w"> </span><span class="err">'appstoreconnect-v</span><span class="mi">1</span><span class="err">'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">YOUR_ISSUE_ID</code>: Refer to the image above.</p><p><code class="language-plaintext highlighter-rouge">exp TOKEN expiration time</code>: It varies depending on different access functions or settings, some can be permanent, some expire after more than 20 minutes and need to be regenerated. For details, refer to <a href="https://developer.apple.com/documentation/appstoreconnectapi/generating_tokens_for_api_requests#3878467" target="_blank">official instructions</a>.</p><h4 id="use-jwtio-or-the-ruby-example-provided-below-to-generate-jwt"><span class="me-2">Use <a href="https://jwt.io/" target="_blank">JWT.IO</a> or the Ruby example provided below to generate JWT</span><a href="#use-jwtio-or-the-ruby-example-provided-below-to-generate-jwt" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>jwt.rb:</p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span data-label-text="Ruby"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="nb">require</span> <span class="s1">'jwt'</span>
<span class="nb">require</span> <span class="s1">'time'</span>

<span class="n">keyFile</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="s1">'./AuthKey_XXXX.p8'</span><span class="p">)</span> <span class="c1"># YOUR .p8 private key file path</span>
<span class="n">privateKey</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">PKey</span><span class="o">::</span><span class="no">EC</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">keyFile</span><span class="p">)</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="ss">iss: </span><span class="s1">'YOUR_ISSUE_ID'</span><span class="p">,</span>
            <span class="ss">iat: </span><span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">to_i</span><span class="p">,</span>
            <span class="ss">exp: </span><span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">to_i</span> <span class="o">+</span> <span class="mi">60</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span>
            <span class="ss">aud: </span><span class="s1">'appstoreconnect-v1'</span>
          <span class="p">}</span>

<span class="n">token</span> <span class="o">=</span> <span class="no">JWT</span><span class="p">.</span><span class="nf">encode</span> <span class="n">payload</span><span class="p">,</span> <span class="n">privateKey</span><span class="p">,</span> <span class="s1">'ES256'</span><span class="p">,</span> <span class="n">header_fields</span><span class="o">=</span><span class="p">{</span><span class="n">kid</span><span class="ss">:"YOUR_KEY_ID"</span><span class="p">,</span> <span class="n">typ</span><span class="ss">:"JWT"</span><span class="p">}</span>
<span class="nb">puts</span> <span class="n">token</span>


<span class="n">decoded_token</span> <span class="o">=</span> <span class="no">JWT</span><span class="p">.</span><span class="nf">decode</span> <span class="n">token</span><span class="p">,</span> <span class="n">privateKey</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="p">{</span> <span class="ss">algorithm: </span><span class="s1">'ES256'</span> <span class="p">}</span>
<span class="nb">puts</span> <span class="n">decoded_token</span>
</pre></table></code></div></div><ul><li>Ruby JWT tool here: <a href="https://github.com/jwt/ruby-jwt" target="_blank">https://github.com/jwt/ruby-jwt</a></ul><p><strong>The final JWT result will look something like this:</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>4oxjoi8j69rHQ58KqPtrFABBWHX2QH7iGFyjkc5q6AJZrKA3AcZcCFoFMTMHpM.pojTEWQufMTvfZUW1nKz66p3emsy2v5QseJX5UJmfRjpxfjgELUGJraEVtX7tVg6aicmJT96q0snP034MhfgoZAB46MGdtC6kv2Vj6VeL2geuXG87Ys6ADijhT7mfHUcbmLPJPNZNuMttcc.fuFAJZNijRHnCA2BRqq7RZEJBB7TLsm1n4WM1cW0yo67KZp-Bnwx9y45cmH82QPAgKcG-y1UhRUrxybi5b9iNN
</pre></table></code></div></div><h4 id="try-it-out"><span class="me-2">Try it out?</span><a href="#try-it-out" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>With the token, we can try out the App Store Connect API!</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-H</span> <span class="s1">'Authorization: Bearer JWT'</span> <span class="s2">"https://api.appstoreconnect.apple.com/v1/apps/APPID/customerReviews"</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">APPID</code> can be obtained from the App Store Connect backend:</ul><p><a href="/assets/f1365e51902c/1*yU4J85S6Q_e8c9NPYE8bNw.png" class="popup img-link "><img data-src="/assets/f1365e51902c/1*yU4J85S6Q_e8c9NPYE8bNw.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Or from the App Store page:</p><ul><li><a href="https://apps.apple.com/tw/app/pinkoi/id557252416" target="_blank">https://apps.apple.com/tw/app/pinkoi/id557252416</a><li>APPID = <code class="language-plaintext highlighter-rouge">557252416</code></ul><p><a href="/assets/f1365e51902c/1*wWIpy8Y5G2F0A2FvQzp0hQ.png" class="popup img-link "><img data-src="/assets/f1365e51902c/1*wWIpy8Y5G2F0A2FvQzp0hQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><ul><li>Success! 🚀 We can now use this method to fetch App reviews. The data is complete and can be fully automated without manual routine maintenance (JWT will expire, but the Private Key will not. We can generate a JWT for each request using the Private Key).<li>For other filtering parameters and operation methods, please refer to the <a href="https://developer.apple.com/documentation/appstoreconnectapi/list_all_customer_reviews_for_an_app" target="_blank">official documentation</a>.</ul><blockquote><p><strong>⚠️ You can only access the App review data for which you have permission ⚠️</strong></p></blockquote><h4 id="complete-ruby-test-project"><span class="me-2">Complete Ruby Test Project</span><a href="#complete-ruby-test-project" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>A Ruby file that performs the above process. You can clone it, fill in the details, and test it directly.</p><p><a href="https://github.com/zhgchgli0718/appstoreconnectapitester" target="_blank" class="img-link shimmer" ><img data-src="https://opengraph.githubassets.com/dc0eb76d891ed80d9f1cb1979225b4cf2ad813fe3c1344bac51a14384c8aeb00/zhgchgli0718/appstoreconnectapitester" alt="" class="lazyload" data-proofer-ignore></a></p><p><strong>First time opening:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>bundle <span class="nb">install</span>
</pre></table></code></div></div><p><strong>Getting Started:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>bundle <span class="nb">exec </span>ruby jwt.rb
</pre></table></code></div></div><h3 id="next"><span class="me-2">Next</span><a href="#next" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Similarly, we can access management through the API ( <a href="https://developer.apple.com/app-store-connect/api/" target="_blank">API Overview</a> ):</p><ul><li><strong>[New]</strong> <a href="https://developer.apple.com/documentation/appstoreconnectapi/app_store/customer_reviews" target="_blank">Customer reviews</a><li><strong>[New]</strong> <a href="https://developer.apple.com/app-store/subscriptions/" target="_blank">Subscriptions</a><li><strong>[New]</strong> <a href="https://developer.apple.com/in-app-purchase/" target="_blank">In-App Purchases</a><li><strong>[New]</strong> <a href="https://developer.apple.com/documentation/appstoreconnectapi/xcode_cloud_workflows_and_builds" target="_blank">Xcode Cloud Workflows And Builds</a><li><strong>[Updated]</strong> <a href="https://developer.apple.com/documentation/metrickit/improving_your_app_s_performance" target="_blank">Improving your App’s Performance</a><li><a href="https://developer.apple.com/testflight/" target="_blank">TestFlight</a><li><a href="https://developer.apple.com/support/roles/" target="_blank">Users And Roles</a><li><a href="https://developer.apple.com/app-clips/" target="_blank">App Clips</a><li><a href="https://help.apple.com/app-store-connect/#/dev2cd126805" target="_blank">App Management</a><li><a href="https://developer.apple.com/app-store/product-page/" target="_blank">App Metadata</a><li><a href="https://help.apple.com/app-store-connect/#/dev9fc06e23d" target="_blank">Pricing And Availability</a><li><a href="https://help.apple.com/developer-account/" target="_blank">Provisioning</a><li><a href="https://help.apple.com/app-store-connect/#/dev061699fdb" target="_blank">Sales and Trends</a></ul><p>If you have any questions or feedback, feel free to <a href="https://www.zhgchg.li/contact" target="_blank">contact me</a>.</p><p>===</p><p><a href="https://zhgchg.li/posts/f1365e51902c/" target="_blank">本文中文版本</a></p><p>===</p><p>This article was first published in Traditional Chinese on Medium ➡️ <a href="https://medium.com/p/f1365e51902c" target="_blank"><strong>View Here</strong></a></p><widgetic id="64ce71d5ecb2a165598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script></div><hr/> <a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer!&emoji=🍺&slug=zhgchgli&button_colour=FFDD00&font_colour=000000&font_family=Bree&outline_colour=000000&coffee_colour=ffffff" class="lazyload" data-proofer-ignore></a> <br/> <a href="https://medium.com/@zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="/assets/images/followmymedium.png" class="lazyload" data-proofer-ignore></a> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3184248473087645" data-ad-slot="7555148040"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/zrealm/'>ZRealm</a>, <a href='/categories/dev/'>Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/app-store-connect/" class="post-tag no-text-decoration" >app-store-connect</a> <a href="/tags/api/" class="post-tag no-text-decoration" >api</a> <a href="/tags/app-review/" class="post-tag no-text-decoration" >app-review</a> <a href="/tags/integration/" class="post-tag no-text-decoration" >integration</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=App%20Store%20Connect%20API%20Now%20Supports%20Reading%20and%20Managing%20Customer%20Reviews%20-%20ZhgChgLi&url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2Ff1365e51902c%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=App%20Store%20Connect%20API%20Now%20Supports%20Reading%20and%20Managing%20Customer%20Reviews%20-%20ZhgChgLi&u=https%3A%2F%2Fen.zhgchg.li%2Fposts%2Ff1365e51902c%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2Ff1365e51902c%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/d9a95d4224ea/">Medium Custom Domain Feature Returns</a><li class="text-truncate lh-lg"> <a href="/posts/483af5d93297/">Custom Domain Tutorial for Github Pages</a><li class="text-truncate lh-lg"> <a href="/posts/9e43897d99fc/">Behavior Change in Merging NSAttributedString Attributes Range in iOS ≥ 18</a><li class="text-truncate lh-lg"> <a href="/posts/b08ef940c196/">iOS Deferred Deep Link Implementation (Swift)</a><li class="text-truncate lh-lg"> <a href="/posts/12c5026da33d/">What's New with Universal Links</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/33f6aabb744f/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1620222679" data-df="ll" > May 5, 2021 </em><h4 class="pt-0 my-2" data-toc-skip>ZReviewsBot — Slack App Review Notification Bot</h4><div class="text-muted small"><p> ZReviewsBot — Slack App Review Notification Bot Free and open-source iOS &amp;amp; Android APP latest review tracking Slack Bot TL;DR [2022/08/10] Update: Now redesigned using the new App Store Conn...</p></div></div></a></div><div class="col"> <a href="/posts/e36e48bb9265/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1660132565" data-df="ll" > Aug 10, 2022 </em><h4 class="pt-0 my-2" data-toc-skip>ZReviewTender — Free Open Source App Reviews Monitoring Bot</h4><div class="text-muted small"><p> ZReviewTender — Free Open Source App Reviews Monitoring Bot Real-time monitoring of the latest app reviews and providing instant feedback to improve collaboration efficiency and consumer satisfact...</p></div></div></a></div><div class="col"> <a href="/posts/e37d66ea1146/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1539454069" data-df="ll" > Oct 14, 2018 </em><h4 class="pt-0 my-2" data-toc-skip>iOS UITextView Text Wrapping Editor (Swift)</h4><div class="text-muted small"><p> iOS UITextView Text Wrapping Editor (Swift) Practical Route Target Functionality: The app has a discussion area where users can post articles. The interface for posting articles needs to support...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/a0c08d579ab1/" class="btn btn-outline-primary" prompt="Older" ><p>Painless Migration from Medium to Self-Hosted Website</p></a> <a href="/posts/e36e48bb9265/" class="btn btn-outline-primary" prompt="Newer" ><p>ZReviewTender — Free Open Source App Reviews Monitoring Bot</p></a></div><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'en', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> <br/> <a href="https://zhgchg.li" target="_blank">中文版網站</a><br/> Powered by <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a>.</p><p>© 2024 <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span></p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-JSGN97L56L"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-JSGN97L56L'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
