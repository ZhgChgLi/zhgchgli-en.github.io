<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="iOS Cross-Platform Account and Password Integration to Enhance Login Experience" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="A feature more worthwhile than Sign in with Apple" /><meta property="og:description" content="A feature more worthwhile than Sign in with Apple" /><link rel="canonical" href="https://en.zhgchg.li/posts/948ed34efa09/" /><meta property="og:url" content="https://en.zhgchg.li/posts/948ed34efa09/" /><meta property="og:site_name" content="ZhgChgLi" /><meta property="og:image" content="https://en.zhgchg.li/assets/948ed34efa09/1*QRYrbCDXcDmUU9fK66YgAA.jpeg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-02-02T22:13:50+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://en.zhgchg.li/assets/948ed34efa09/1*QRYrbCDXcDmUU9fK66YgAA.jpeg" /><meta property="twitter:title" content="iOS Cross-Platform Account and Password Integration to Enhance Login Experience" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@ZhgChgLi" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi"},"dateModified":"2024-04-13T16:48:34+08:00","datePublished":"2021-02-02T22:13:50+08:00","description":"A feature more worthwhile than Sign in with Apple","headline":"iOS Cross-Platform Account and Password Integration to Enhance Login Experience","image":"https://en.zhgchg.li/assets/948ed34efa09/1*QRYrbCDXcDmUU9fK66YgAA.jpeg","mainEntityOfPage":{"@type":"WebPage","@id":"https://en.zhgchg.li/posts/948ed34efa09/"},"url":"https://en.zhgchg.li/posts/948ed34efa09/"}</script><title>iOS Cross-Platform Account and Password Integration to Enhance Login Experience | ZhgChgLi</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi"><meta name="application-name" content="ZhgChgLi"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">ZhgChgLi</a></div><div class="site-subtitle fst-italic">Live a life you will remember.</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/real/" class="nav-link"> <i class="fa-fw fa fa-camera-retro"></i> <span>REAL LIFE</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>iOS Cross-Platform Account and Password Integration to Enhance Login Experience</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>iOS Cross-Platform Account and Password Integration to Enhance Login Experience</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1612275230" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 2, 2021 </em> </span> <span> Updated <em class="" data-ts="1712998114" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 13, 2024 </em> </span><div class="mt-3 mb-3"> <a href="/assets/948ed34efa09/1*QRYrbCDXcDmUU9fK66YgAA.jpeg" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/assets/948ed34efa09/1*QRYrbCDXcDmUU9fK66YgAA.jpeg" alt="Preview Image" width="1200" height="630" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1451 words" > <em>8 min</em> read</span></div></div></div><div class="post-content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><h3 id="ios-cross-platform-account-and-password-integration-to-enhance-login-experience"><span class="me-2">iOS Cross-Platform Account and Password Integration to Enhance Login Experience</span><a href="#ios-cross-platform-account-and-password-integration-to-enhance-login-experience" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>A feature more worthwhile than Sign in with Apple</p><p><a href="/assets/948ed34efa09/1*QRYrbCDXcDmUU9fK66YgAA.jpeg" class="popup img-link "><img data-src="/assets/948ed34efa09/1*QRYrbCDXcDmUU9fK66YgAA.jpeg" alt="Photo by [Dan Nelson](https://unsplash.com/@danny144?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText){:target=&quot;_blank&quot;}" class="lazyload" data-proofer-ignore></a></p><p>Photo by <a href="https://unsplash.com/@danny144?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Dan Nelson</a></p><h3 id="features"><span class="me-2">Features</span><a href="#features" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>One of the most common problems in services that have both a website and an app is that users register and log in on the website, with passwords remembered; but when guided to install the app, they find it very inconvenient to re-enter their account and password from scratch. This feature allows the existing account and password on the phone to be automatically filled into the app associated with the website, speeding up the user login process.</p><h3 id="effect-diagram"><span class="me-2">Effect Diagram</span><a href="#effect-diagram" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/948ed34efa09/1*z-zjGdt17LYCr8Am6kekFA.gif" class="popup img-link "><img data-src="/assets/948ed34efa09/1*z-zjGdt17LYCr8Am6kekFA.gif" alt="" class="lazyload" data-proofer-ignore></a></p><p>Without further ado, here is the completed effect diagram; at first glance, you might think it’s the iOS ≥ 11 Password AutoFill feature; but please look carefully, the keyboard did not pop up, and I clicked the “Choose Saved Password” button to bring up the account and password selection window.</p><p>Since Password AutoFill is mentioned, let me first introduce Password AutoFill and how to set it up!</p><h3 id="password-autofill"><span class="me-2">Password AutoFill</span><a href="#password-autofill" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/948ed34efa09/1*BZQcOoRV5IcRuI2HsSmKRQ.gif" class="popup img-link "><img data-src="/assets/948ed34efa09/1*BZQcOoRV5IcRuI2HsSmKRQ.gif" alt="" class="lazyload" data-proofer-ignore></a></p><p>Support: iOS ≥ 11</p><p>By now, iOS 14, this feature is very common and nothing special; on the account and password login page in the app, when the keyboard is called up for input, you can quickly select the account and password of the web version service, and after selection, it will be automatically filled in for quick login!</p><h4 id="so-how-do-the-app-and-web-recognize-each-other"><span class="me-2">So how do the app and web recognize each other?</span><a href="#so-how-do-the-app-and-web-recognize-each-other" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Associated Domains! We specify Associated Domains in the app and upload the apple-app-site-association file on the website, and they can recognize each other.</p><p><strong>1. In the project settings “Signing &amp; Capabilities” -&gt; Top left “+ Capabilities” -&gt; “Associated Domains”</strong></p><p><a href="/assets/948ed34efa09/1*0oVHvGSzUA5cohhsSyuamA.png" class="popup img-link "><img data-src="/assets/948ed34efa09/1*0oVHvGSzUA5cohhsSyuamA.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Add <code class="language-plaintext highlighter-rouge">webcredentials:your website domain</code> (ex: <code class="language-plaintext highlighter-rouge">webcredentials:google.com</code>).</p><p><strong>2. Go to <a href="https://developer.apple.com/account/" target="_blank">Apple Developer Console</a></strong></p><p>In the “ <strong>Membership</strong> “ tab, record the “ <strong>Team ID</strong> “</p><p><a href="/assets/948ed34efa09/1*LLlPP2VVCinVdrMsXWvj3g.png" class="popup img-link "><img data-src="/assets/948ed34efa09/1*LLlPP2VVCinVdrMsXWvj3g.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><strong>3. Go to “Certificates, Identifiers &amp; Profiles” -&gt; “Identifiers” -&gt; Find your project -&gt; Enable the “Associated Domains” feature</strong></p><p><a href="/assets/948ed34efa09/1*ssGVeTV7AAfkbf1iYeQX7Q.png" class="popup img-link "><img data-src="/assets/948ed34efa09/1*ssGVeTV7AAfkbf1iYeQX7Q.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><strong>App-side settings completed!</strong></p><p><strong>4. Web Site Configuration</strong></p><p>Create a file named “<strong>apple-app-site-association</strong>” (without an extension), edit it with a text editor, and enter the following content:</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"webcredentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"apps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"TeamID.BundleId"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>Replace <code class="language-plaintext highlighter-rouge">TeamID.BundleId</code> with your project settings (e.g., TeamID = <code class="language-plaintext highlighter-rouge">ABCD</code>, BundleID = <code class="language-plaintext highlighter-rouge">li.zhgchg.demoapp</code> =&gt; <code class="language-plaintext highlighter-rouge">ABCD.li.zhgchg.demoapp</code>).</p><p>Upload this file to the website’s <code class="language-plaintext highlighter-rouge">root directory</code> or <code class="language-plaintext highlighter-rouge">/.well-known</code> directory. Assuming your <code class="language-plaintext highlighter-rouge">webcredentials website domain</code> is set to <code class="language-plaintext highlighter-rouge">google.com</code>, this file should be accessible at <code class="language-plaintext highlighter-rouge">google.com/apple-app-site-association</code> or <code class="language-plaintext highlighter-rouge">google.com/.well-known/apple-app-site-association</code>.</p><p><strong>Note: Subdomains</strong></p><p><a href="/assets/948ed34efa09/1*ObLXi_XGDDR4A3Mo1WdIEA.png" class="popup img-link "><img data-src="/assets/948ed34efa09/1*ObLXi_XGDDR4A3Mo1WdIEA.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>According to the official documentation, if there are subdomains, they must all be listed in the Associated Domains.</p><p><strong>Web Configuration Complete!</strong></p><p><strong>Note: applinks</strong></p><p>It has been observed that if a universal link <code class="language-plaintext highlighter-rouge">applinks</code> has been set, the <code class="language-plaintext highlighter-rouge">webcredentials</code> part is not necessary for it to be effective. However, we will follow the documentation to avoid potential issues in the future.</p><h4 id="back-to-the-program"><span class="me-2">Back to the Program</span><a href="#back-to-the-program" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>For the code part, we only need to set the TextField as follows:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">usernameTextField</span><span class="o">.</span><span class="n">textContentType</span> <span class="o">=</span> <span class="o">.</span><span class="n">username</span>
<span class="n">passwordTextField</span><span class="o">.</span><span class="n">textContentType</span> <span class="o">=</span> <span class="o">.</span><span class="n">password</span>
</pre></table></code></div></div><p>If it is a new registration, the password confirmation field can use:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">repeatPasswordTextField</span><span class="o">.</span><span class="n">textContentType</span> <span class="o">=</span> <span class="o">.</span><span class="n">newPassword</span>
</pre></table></code></div></div><p>After rebuilding and running the app, the option to use saved passwords from the same website will appear above the keyboard when entering the account.</p><h4 id="done"><span class="me-2">Done!</span><a href="#done" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/948ed34efa09/1*VKsfZLnzoNno-IgPRp-odg.jpeg" class="popup img-link "><img data-src="/assets/948ed34efa09/1*VKsfZLnzoNno-IgPRp-odg.jpeg" alt="" class="lazyload" data-proofer-ignore></a></p><h4 id="not-appearing"><span class="me-2">Not Appearing?</span><a href="#not-appearing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>It might be because the autofill password feature is not enabled (it is disabled by default in the simulator). Go to “Settings” -&gt; “Passwords” -&gt; “Autofill Passwords” -&gt; Enable “Autofill Passwords”.</p><p><a href="/assets/948ed34efa09/1*a0vCvZA6PajjOwc8DFymIg.jpeg" class="popup img-link "><img data-src="/assets/948ed34efa09/1*a0vCvZA6PajjOwc8DFymIg.jpeg" alt="" class="lazyload" data-proofer-ignore></a></p><p>Alternatively, the website might not have any existing passwords. You can add one in “Settings” -&gt; “Passwords” -&gt; Top right corner “+” -&gt; Add.</p><p><a href="/assets/948ed34efa09/1*kOsFAy-UifNMor84LGEovw.jpeg" class="popup img-link "><img data-src="/assets/948ed34efa09/1*kOsFAy-UifNMor84LGEovw.jpeg" alt="" class="lazyload" data-proofer-ignore></a></p><h3 id="getting-to-the-main-topic"><span class="me-2">Getting to the Main Topic</span><a href="#getting-to-the-main-topic" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>After introducing Password AutoFill, let’s move on to the main topic: how to achieve the effect shown in the illustration.</p><h4 id="shared-web-credentials"><span class="me-2"><a href="https://developer.apple.com/documentation/security/shared_web_credentials" target="_blank">Shared Web Credentials</a></span><a href="#shared-web-credentials" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Introduced in iOS 8.0, although rarely seen in apps before Password AutoFill was released, this API can integrate website account passwords for quick user selection.</p><p>Shared Web Credentials can not only read account passwords but also add, modify, and delete stored account passwords.</p><h4 id="configuration"><span class="me-2">Configuration</span><a href="#configuration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><strong><em>⚠️ The configuration part must also set up Associated Domains, as mentioned in the Password AutoFill setup.</em></strong></p></blockquote><blockquote><p>So it can be said to be an enhanced version of the Password AutoFill feature!!</p></blockquote><p>Because the environment required for Password AutoFill must be set up first to use this “advanced” feature.</p><h4 id="reading"><span class="me-2">Reading</span><a href="#reading" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Reading is done using the <code class="language-plaintext highlighter-rouge">SecRequestSharedWebCredential</code> method:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kt">SecRequestSharedWebCredential</span><span class="p">(</span><span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
  <span class="k">guard</span> <span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span> <span class="k">else</span> <span class="p">{</span>
    <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
      <span class="c1">//alert error</span>
    <span class="p">}</span>
    <span class="k">return</span>
  <span class="p">}</span>
  
  <span class="k">guard</span> <span class="kt">CFArrayGetCount</span><span class="p">(</span><span class="n">credentials</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="k">let</span> <span class="nv">dict</span> <span class="o">=</span> <span class="nf">unsafeBitCast</span><span class="p">(</span><span class="kt">CFArrayGetValueAtIndex</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="nv">to</span><span class="p">:</span> <span class="kt">CFDictionary</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="k">as?</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="k">let</span> <span class="nv">account</span> <span class="o">=</span> <span class="n">dict</span><span class="p">[</span><span class="n">kSecAttrAccount</span> <span class="k">as</span> <span class="kt">String</span><span class="p">],</span>
    <span class="k">let</span> <span class="nv">password</span> <span class="o">=</span> <span class="n">dict</span><span class="p">[</span><span class="n">kSecSharedPassword</span> <span class="k">as</span> <span class="kt">String</span><span class="p">]</span> <span class="k">else</span> <span class="p">{</span>
      <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
        <span class="c1">//alert error</span>
      <span class="p">}</span>
      <span class="k">return</span>
    <span class="p">}</span>
    
    <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
      <span class="c1">//fill account,password to textfield</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">SecRequestSharedWebCredential(fqdn, account, completionHandler)</code></p><ul><li><strong>fqdn</strong> If there are multiple <code class="language-plaintext highlighter-rouge">webcredentials</code> domains, you can specify one, or use null to not specify<li><strong>account</strong> Specify a particular account to query, use null to not specify</ul><p><a href="/assets/948ed34efa09/1*PNRbIoN3vr64ZstYphpR9w.gif" class="popup img-link "><img data-src="/assets/948ed34efa09/1*PNRbIoN3vr64ZstYphpR9w.gif" alt="" class="lazyload" data-proofer-ignore></a></p><p>Effect image. (You may notice it is different from the initial effect image)</p><blockquote><p><strong><em>⚠️ This method has been marked as Deprecated in iOS 14!</em></strong></p></blockquote><blockquote><p><strong><em>⚠️ This method has been marked as Deprecated in iOS 14!</em></strong></p></blockquote><blockquote><p><strong><em>⚠️ This method has been marked as Deprecated in iOS 14!</em></strong></p></blockquote><blockquote><p><code class="language-plaintext highlighter-rouge">"Use ASAuthorizationController to make an ASAuthorizationPasswordRequest (AuthenticationServices framework)"</code></p></blockquote><p>This method is only applicable for iOS 8 ~ iOS 14. After iOS 13, you can use the same API as <strong>Sign in with Apple</strong> — <strong>AuthenticationServices</strong></p><h4 id="authenticationservices-reading-method"><span class="me-2"><strong>AuthenticationServices Reading Method</strong></span><a href="#authenticationservices-reading-method" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Support iOS ≥ 13</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">AuthenticationServices</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
  <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
      <span class="c1">//...</span>
      <span class="k">let</span> <span class="nv">request</span><span class="p">:</span> <span class="kt">ASAuthorizationPasswordRequest</span> <span class="o">=</span> <span class="kt">ASAuthorizationPasswordProvider</span><span class="p">()</span><span class="o">.</span><span class="nf">createRequest</span><span class="p">()</span>
      <span class="k">let</span> <span class="nv">controller</span> <span class="o">=</span> <span class="kt">ASAuthorizationController</span><span class="p">(</span><span class="nv">authorizationRequests</span><span class="p">:</span> <span class="p">[</span><span class="n">request</span><span class="p">])</span>
      <span class="n">controller</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
      <span class="n">controller</span><span class="o">.</span><span class="nf">performRequests</span><span class="p">()</span>
      <span class="c1">//...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">ASAuthorizationControllerDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">authorizationController</span><span class="p">(</span><span class="nv">controller</span><span class="p">:</span> <span class="kt">ASAuthorizationController</span><span class="p">,</span> <span class="n">didCompleteWithAuthorization</span> <span class="nv">authorization</span><span class="p">:</span> <span class="kt">ASAuthorization</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">if</span> <span class="k">let</span> <span class="nv">credential</span> <span class="o">=</span> <span class="n">authorization</span><span class="o">.</span><span class="n">credential</span> <span class="k">as?</span> <span class="kt">ASPasswordCredential</span> <span class="p">{</span>
          <span class="c1">// fill credential.user, credential.password to textfield</span>
        <span class="p">}</span>
        <span class="c1">// else if as? ASAuthorizationAppleIDCredential... sign in with apple</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">authorizationController</span><span class="p">(</span><span class="nv">controller</span><span class="p">:</span> <span class="kt">ASAuthorizationController</span><span class="p">,</span> <span class="n">didCompleteWithError</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// alert error</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><a href="/assets/948ed34efa09/1*z-zjGdt17LYCr8Am6kekFA.gif" class="popup img-link "><img data-src="/assets/948ed34efa09/1*z-zjGdt17LYCr8Am6kekFA.gif" alt="" class="lazyload" data-proofer-ignore></a></p><p>Effect image, you can see that the new method integrates better with Sign in with Apple in terms of process and display.</p><blockquote><p><strong><em>⚠️ This login cannot replace</em></strong> <em>Sign in with Apple (they are different things).</em></p></blockquote><h4 id="writing-account-and-password-to-passwords"><span class="me-2">Writing Account and Password to “Passwords”</span><a href="#writing-account-and-password-to-passwords" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Only the reading part is deprecated, the parts for adding, deleting, and editing can still be used as usual.</p><p>The parts for adding, deleting, and editing use <code class="language-plaintext highlighter-rouge">SecAddSharedWebCredential</code> for operations.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kt">SecAddSharedWebCredential</span><span class="p">(</span><span class="n">domain</span> <span class="k">as</span> <span class="kt">CFString</span><span class="p">,</span> <span class="n">account</span> <span class="k">as</span> <span class="kt">CFString</span><span class="p">,</span> <span class="n">password</span> <span class="k">as</span> <span class="kt">CFString</span><span class="p">?)</span> <span class="p">{</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="k">in</span>
  <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
    <span class="k">guard</span> <span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// alert error</span>
      <span class="k">return</span>
    <span class="p">}</span>
    <span class="c1">// alert success</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">SecAddSharedWebCredential(fqdn, account, password, completionHandler)</code></p><ul><li><strong>fqdn</strong> can freely specify the domain to be stored, it does not necessarily have to be in <code class="language-plaintext highlighter-rouge">webcredentials</code><li><strong>account</strong> specifies the account to be added, modified, or deleted<li>To delete data, set <strong>password</strong> to <strong><code class="language-plaintext highlighter-rouge">nil</code></strong><li>Processing logic:<ul><li>account exists &amp; password is provided = modify password<li>account exists &amp; password is nil = delete account and password from domain<li>account does not exist &amp; password is provided = add account and password to domain</ul></ul><p><a href="/assets/948ed34efa09/1*dGN5rv4jZ-wlY9HYoymNCQ.png" class="popup img-link "><img data-src="/assets/948ed34efa09/1*dGN5rv4jZ-wlY9HYoymNCQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><blockquote><p><strong><em>⚠️</em></strong> <em>Additionally, you cannot modify in the background secretly; a prompt will appear each time you modify, asking the user to confirm by clicking “Update Password” to actually change the data.</em></p></blockquote><h4 id="password-generator"><span class="me-2">Password Generator</span><a href="#password-generator" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>The last small feature, the password generator.</p><p>Use <code class="language-plaintext highlighter-rouge">SecCreateSharedWebCredentialPassword()</code> to operate.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">password</span> <span class="o">=</span> <span class="kt">SecCreateSharedWebCredentialPassword</span><span class="p">()</span> <span class="k">as</span> <span class="kt">String</span><span class="p">?</span> <span class="p">??</span> <span class="s">""</span>
</pre></table></code></div></div><p><a href="/assets/948ed34efa09/1*Xd-CiH62N354u6JPQ4b8cQ.png" class="popup img-link "><img data-src="/assets/948ed34efa09/1*Xd-CiH62N354u6JPQ4b8cQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>The generated password consists of uppercase and lowercase English letters and numbers, using “-“ as a separator (e.g., Jpn-4t2-gaF-dYk).</p><h3 id="complete-test-project-download"><span class="me-2">Complete Test Project Download</span><a href="#complete-test-project-download" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://github.com/zhgchgli0718/webcredentialsDemo" target="_blank" class="img-link shimmer" ><img data-src="https://opengraph.githubassets.com/095b2f29388301a3e997e079aedecc973eae5656fc782e8889e7f462d7875681/zhgchgli0718/webcredentialsDemo" alt="" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/948ed34efa09/1*B9q4goRZPLvW4613OnW2oA.png" class="popup img-link "><img data-src="/assets/948ed34efa09/1*B9q4goRZPLvW4613OnW2oA.png" alt="" class="lazyload" data-proofer-ignore></a></p><h3 id="room-for-improvement"><span class="me-2">Room for Improvement</span><a href="#room-for-improvement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If you use third-party password management tools (e.g., onepass, lastpass), you might notice that while Password AutoFill on the keyboard supports display &amp; input, it does not show up in AuthenticationServices or SecRequestSharedWebCredential. It’s unclear if this can be achieved.</p><p><a href="/assets/948ed34efa09/1*o_UTxA4Epty8XAM6cOsiUw.jpeg" class="popup img-link "><img data-src="/assets/948ed34efa09/1*o_UTxA4Epty8XAM6cOsiUw.jpeg" alt="" class="lazyload" data-proofer-ignore></a></p><h3 id="conclusion"><span class="me-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Thank you for reading, and thanks to <a href="https://twitter.com/saiday" target="_blank">saiday</a> and StreetVoice for letting me know about this feature XD.</p><p>Also, XCode ≥ 12.5 simulators have added recording and GIF saving features, which are super useful!</p><p><a href="/assets/948ed34efa09/1*LUaFOoZHai41oFNFkh6b4A.jpeg" class="popup img-link "><img data-src="/assets/948ed34efa09/1*LUaFOoZHai41oFNFkh6b4A.jpeg" alt="" class="lazyload" data-proofer-ignore></a></p><p>Press “Command” + “R” on the simulator to start recording, click the red dot to stop recording; right-click on the preview image that slides out from the bottom right -&gt; “Save as Animated GIF” to save it as a GIF and directly paste it into the article!</p><p>For any questions or feedback, feel free to <a href="https://www.zhgchg.li/contact" target="_blank">contact me</a>.</p><p>===</p><p><a href="https://zhgchg.li/posts/948ed34efa09/" target="_blank">本文中文版本</a></p><p>===</p><p>This article was first published in Traditional Chinese on Medium ➡️ <a href="https://medium.com/p/948ed34efa09" target="_blank"><strong>View Here</strong></a></p><widgetic id="64ce71d5ecb2a165598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script></div><hr/> <a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer!&emoji=🍺&slug=zhgchgli&button_colour=FFDD00&font_colour=000000&font_family=Bree&outline_colour=000000&coffee_colour=ffffff" class="lazyload" data-proofer-ignore></a> <br/> <a href="https://medium.com/@zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="/assets/images/followmymedium.png" class="lazyload" data-proofer-ignore></a> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3184248473087645" data-ad-slot="7555148040"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/zrealm/'>ZRealm</a>, <a href='/categories/dev/'>Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/password-security/" class="post-tag no-text-decoration" >password-security</a> <a href="/tags/web-credential/" class="post-tag no-text-decoration" >web-credential</a> <a href="/tags/sign-in-with-apple/" class="post-tag no-text-decoration" >sign-in-with-apple</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=iOS%20Cross-Platform%20Account%20and%20Password%20Integration%20to%20Enhance%20Login%20Experience%20-%20ZhgChgLi&url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F948ed34efa09%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=iOS%20Cross-Platform%20Account%20and%20Password%20Integration%20to%20Enhance%20Login%20Experience%20-%20ZhgChgLi&u=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F948ed34efa09%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F948ed34efa09%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/d9a95d4224ea/">Medium Custom Domain Feature Returns</a><li class="text-truncate lh-lg"> <a href="/posts/483af5d93297/">Custom Domain Tutorial for Github Pages</a><li class="text-truncate lh-lg"> <a href="/posts/9e43897d99fc/">Behavior Change in Merging NSAttributedString Attributes Range in iOS ≥ 18</a><li class="text-truncate lh-lg"> <a href="/posts/b08ef940c196/">iOS Deferred Deep Link Implementation (Swift)</a><li class="text-truncate lh-lg"> <a href="/posts/12c5026da33d/">What's New with Universal Links</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/e37d66ea1146/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1539454069" data-df="ll" > Oct 14, 2018 </em><h4 class="pt-0 my-2" data-toc-skip>iOS UITextView Text Wrapping Editor (Swift)</h4><div class="text-muted small"><p> iOS UITextView Text Wrapping Editor (Swift) Practical Route Target Functionality: The app has a discussion area where users can post articles. The interface for posting articles needs to support...</p></div></div></a></div><div class="col"> <a href="/posts/cb6eba52a342/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1539618241" data-df="ll" > Oct 15, 2018 </em><h4 class="pt-0 my-2" data-toc-skip>iOS ≥ 10 Notification Service Extension Application (Swift)</h4><div class="text-muted small"><p> iOS ≥ 10 Notification Service Extension Application (Swift) Image push notifications, push notification display statistics, pre-processing before push notification display Regarding the basics of...</p></div></div></a></div><div class="col"> <a href="/posts/9a9aa892f9a9/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1539705684" data-df="ll" > Oct 17, 2018 </em><h4 class="pt-0 my-2" data-toc-skip>Exploring Vision — Automatic Face Detection and Cropping for Profile Pictures (Swift)</h4><div class="text-muted small"><p> Exploring Vision — Automatic Face Detection and Cropping for Profile Pictures (Swift) Practical Application of Vision [2024/08/13 Update] Refer to the new article and API: “iOS Vision framewor...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/6ce488898003/" class="btn btn-outline-primary" prompt="Older" ><p>Comprehensive Guide to Implementing Local Cache with AVPlayer</p></a> <a href="/posts/12c5026da33d/" class="btn btn-outline-primary" prompt="Newer" ><p>What's New with Universal Links</p></a></div><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'en', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> <br/> <a href="https://zhgchg.li" target="_blank">中文版網站</a><br/> Powered by <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a>.</p><p>© 2024 <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span></p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-JSGN97L56L"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-JSGN97L56L'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
