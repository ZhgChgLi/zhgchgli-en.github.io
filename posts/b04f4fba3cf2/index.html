<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="What Can Be Done to Commemorate When an App Product Reaches Its End?" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="Using mitmproxy + apple configurator to keep an App in its pre-removal state forever" /><meta property="og:description" content="Using mitmproxy + apple configurator to keep an App in its pre-removal state forever" /><link rel="canonical" href="https://en.zhgchg.li/posts/b04f4fba3cf2/" /><meta property="og:url" content="https://en.zhgchg.li/posts/b04f4fba3cf2/" /><meta property="og:site_name" content="ZhgChgLi" /><meta property="og:image" content="https://en.zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.jpeg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-05-15T00:20:45+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://en.zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.jpeg" /><meta property="twitter:title" content="What Can Be Done to Commemorate When an App Product Reaches Its End?" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@ZhgChgLi" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi"},"dateModified":"2024-05-15T00:20:45+08:00","datePublished":"2024-05-15T00:20:45+08:00","description":"Using mitmproxy + apple configurator to keep an App in its pre-removal state forever","headline":"What Can Be Done to Commemorate When an App Product Reaches Its End?","image":"https://en.zhgchg.li/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.jpeg","mainEntityOfPage":{"@type":"WebPage","@id":"https://en.zhgchg.li/posts/b04f4fba3cf2/"},"url":"https://en.zhgchg.li/posts/b04f4fba3cf2/"}</script><title>What Can Be Done to Commemorate When an App Product Reaches Its End? | ZhgChgLi</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi"><meta name="application-name" content="ZhgChgLi"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">ZhgChgLi</a></div><div class="site-subtitle fst-italic">Live a life you will remember.</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/real/" class="nav-link"> <i class="fa-fw fa fa-camera-retro"></i> <span>REAL LIFE</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>What Can Be Done to Commemorate When an App Product Reaches Its End?</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>What Can Be Done to Commemorate When an App Product Reaches Its End?</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1715703645" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > May 15, 2024 </em> </span> <span> Updated <em class="" data-ts="1715703645" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > May 14, 2024 </em> </span><div class="mt-3 mb-3"> <a href="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.jpeg" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.jpeg" alt="Preview Image" width="1200" height="630" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2346 words" > <em>13 min</em> read</span></div></div></div><div class="post-content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><h3 id="what-can-be-done-to-commemorate-when-an-app-product-reaches-its-end"><span class="me-2">What Can Be Done to Commemorate When an App Product Reaches Its End?</span><a href="#what-can-be-done-to-commemorate-when-an-app-product-reaches-its-end" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Using mitmproxy + apple configurator to keep an App in its pre-removal state forever</p><h3 id="introduction"><span class="me-2">Introduction</span><a href="#introduction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.jpeg" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*8RN-xVJROfLwtovgkvHDwA.jpeg" alt="Jujutsu Kaisen" class="lazyload" data-proofer-ignore></a></p><p>Jujutsu Kaisen</p><p>After working for a long time and handling many products, I have started to encounter products that I once participated in reaching their end (removal). Developing a product from scratch is like nurturing a new life, with the team working together for 3-4 months to bring the child into the world. Although it was later handed over to other caretakers (engineers) for further development, hearing that it is about to reach the end of its product lifecycle still brings some regret.</p><blockquote><p><strong><em>Life is like this too. We never know if the sun will rise first tomorrow or if an accident will happen. The only thing we can do is cherish the present and do things well.</em></strong></p></blockquote><h4 id="commemoration"><span class="me-2">Commemoration</span><a href="#commemoration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Every step leaves a trace. We hope to do something before the product reaches its end so that everyone still has a chance to remember it and at least leave proof of its existence. The following methods require the App to still be online; if it has already been removed, then only memories remain.</p><h3 id="non-technical-method--recording"><span class="me-2">Non-technical Method — Recording</span><a href="#non-technical-method--recording" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Besides using the <a href="https://support.apple.com/zh-tw/102653" target="_blank">iPhone’s built-in screen recording feature</a>, we can also use QuickTime Player to connect the phone to a Mac for recording and exporting videos.</p><ol><li>Open the QuickTime Player App on the Mac</ol><p><a href="/assets/b04f4fba3cf2/1*UVkfiLbcYU8YuZEPdbJaOg.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*UVkfiLbcYU8YuZEPdbJaOg.png" alt="" class="lazyload" data-proofer-ignore></a></p><ol><li>In the top left toolbar, select “File” -&gt; “New Movie Recording”</ol><p><a href="/assets/b04f4fba3cf2/1*VcRN0FExy-CA7sExHtMT6w.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*VcRN0FExy-CA7sExHtMT6w.png" alt="" class="lazyload" data-proofer-ignore></a></p><ol><li>After the recording interface pops up, click the “v” next to the 🔴, and select your connected phone for the screen and speaker</ol><p><a href="/assets/b04f4fba3cf2/1*SN0XL8Zt0UlBizXiIqZiyA.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*SN0XL8Zt0UlBizXiIqZiyA.png" alt="" class="lazyload" data-proofer-ignore></a></p><ol><li>The recording interface will now display the phone screen</ol><p><a href="/assets/b04f4fba3cf2/1*MSuecaACmg3ZNMnGpDkRFQ.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*MSuecaACmg3ZNMnGpDkRFQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Click the “🔴” to start recording, and operate the content you want to record on the phone.</p><p><a href="/assets/b04f4fba3cf2/1*bxL9Dq1IWgbrlSfKO6skLQ.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*bxL9Dq1IWgbrlSfKO6skLQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>During recording, the current video size will be displayed. To stop recording, press the “🔴” again.</p><p><a href="/assets/b04f4fba3cf2/1*VxWQNHF_PX5CZAkjJEXPbQ.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*VxWQNHF_PX5CZAkjJEXPbQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>You can use the QuickTime Player toolbar to simply trim the video. Finally, press “Command” + “s” to export and save the video to the specified location, completing the recording for commemoration.</p><p>The advantage of video commemoration is that future memories are more easily connected than with pictures. The deeper you record, the more detailed the record. If you want to convert specific frames into pictures, you can directly take screenshots, which is very convenient.</p><h3 id="technical-method"><span class="me-2">Technical Method</span><a href="#technical-method" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Technical backup of an App can be divided into two directions: “bones” and “meat”. The App itself is just a skeleton, while the core content data of the App is composed of API Response Data.</p><ul><li>The bones will disappear as the App is removed from the App Store.<li>The meat will disappear as the API host and server shut down.</ul><p>Therefore, we also divide the technical backup into bones and meat.</p><h4 id="disclaimer"><span class="me-2">Disclaimer</span><a href="#disclaimer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p><em>This article is for technical research and sharing only. It does not encourage the use of any technology for illegal or infringing activities.</em></p></blockquote><h4 id="bones-backup-ipa-app-installation-file"><span class="me-2">[Bones] Backup .ipa App Installation File</span><a href="#bones-backup-ipa-app-installation-file" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>After an App is removed from the store, as long as the downloaded App is not actively deleted from the phone, it will always exist on that phone. If you change phones using the transfer method, it will also be transferred.</p><p>But if we accidentally delete the App or change phones without transferring it, then it will be gone forever. At this time, if we manually back up the .ipa file from the store, we can extend its life again.</p><p>A long time ago, the <a href="../7498e1ff93ce/">reverse engineering article</a> mentioned this, but this time we only need to back up the .ipa file without jailbreaking, all using tools provided by Apple.</p><p><strong>1. Install <a href="https://apps.apple.com/tw/app/apple-configurator/id1037126344?mt=12" target="_blank">Apple Configurator 2</a></strong></p><p><a href="/assets/b04f4fba3cf2/1*_RzuFIVGV9T_-xJ53H8fGA.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*_RzuFIVGV9T_-xJ53H8fGA.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>First, go to the Mac App Store to download and install <a href="https://apps.apple.com/tw/app/apple-configurator/id1037126344?mt=12" target="_blank">Apple Configurator 2</a>.</p><p><strong>2. Connect iPhone to Mac and click Trust This Computer</strong></p><p><a href="/assets/b04f4fba3cf2/1*EiSQmOkDCW73kYhJWbTipQ.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*EiSQmOkDCW73kYhJWbTipQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Once connected successfully, the iPhone’s home screen will appear.</p><p><strong>3. Ensure your phone has the app installed that you want to back up the .ipa file for</strong></p><p><a href="/assets/b04f4fba3cf2/1*QD9M4uM9eyKSixzu8AdKbw.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*QD9M4uM9eyKSixzu8AdKbw.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>We need to use Apple Configurator 2 to get the .ipa file downloaded to the cache, so we need to make sure the target app is installed on the phone.</p><p><strong>4. Go back to Apple Configurator 2 on the Mac</strong></p><p>Double-click the iPhone home screen shown above to enter the information page.</p><p><a href="/assets/b04f4fba3cf2/1*X_y5uGhRRIq7VQuW4PkYBg.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*X_y5uGhRRIq7VQuW4PkYBg.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Switch to “App” -&gt; top right corner “+ Add” -&gt; “App”</p><p>After logging into the App Store account, you can get a list of apps you have purchased before.</p><p><a href="/assets/b04f4fba3cf2/1*uAyjPD75-MGokHCbDoC_4g.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*uAyjPD75-MGokHCbDoC_4g.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Search for the target app you want to back up, select it, and click “Add”.</p><p><a href="/assets/b04f4fba3cf2/1*T-v1CNrmc7T4MpeyAX0c7A.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*T-v1CNrmc7T4MpeyAX0c7A.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>A waiting window will appear, adding the app on XXX, downloading “XXX”.</p><p><strong>5. Extract the .ipa file</strong></p><blockquote><p><strong><em>Wait for it to finish downloading, a window will pop up asking if you want to replace the existing installed app.</em></strong></p></blockquote><p><a href="/assets/b04f4fba3cf2/1*9f54be4lixn4ezKhwRJrtg.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*9f54be4lixn4ezKhwRJrtg.png" alt="" class="lazyload" data-proofer-ignore></a></p><blockquote><p><strong><em>Do not click anything at this time. Do not click anything at this time. Do not click anything at this time.</em></strong></p></blockquote><p>Open a Finder:</p><p>Select “Go” -&gt; “Go to Folder” from the top left toolbar</p><p><a href="/assets/b04f4fba3cf2/1*JgXWca5hKROuoOgLThkQnw.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*JgXWca5hKROuoOgLThkQnw.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Paste the following path:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>~/Library/Group Containers/K36BKF7T3D.group.com.apple.configurator/Library/Caches/Assets/TemporaryItems/MobileApps
</pre></table></code></div></div><p>You can find the target app .ipa file that is downloaded and ready to be installed:</p><p><a href="/assets/b04f4fba3cf2/1*zV5yWozKqXtwekI33NWwVg.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*zV5yWozKqXtwekI33NWwVg.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Copy it out to complete the app .ipa file backup.</p><p>After completing the file copy, go back to Apple Configurator 2 and click stop to terminate the operation.</p><h4 id="bone-restore-ipa-app-installation-file"><span class="me-2">[Bone] Restore .ipa App Installation File</span><a href="#bone-restore-ipa-app-installation-file" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Similarly, connect the phone to be restored to the Mac and open Apple Configurator 2, enter the app addition interface.</p><p><a href="/assets/b04f4fba3cf2/1*6miYYw5QL6iqLQqrtHOi2A.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*6miYYw5QL6iqLQqrtHOi2A.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>For restoration, select “Choose from my Mac…” in the bottom left corner.</p><p><a href="/assets/b04f4fba3cf2/1*7a_25rE2eDpMFZqBC3sP6g.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*7a_25rE2eDpMFZqBC3sP6g.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Select the backed-up app .ipa file and click “Add”.</p><p><a href="/assets/b04f4fba3cf2/1*AcGEAuowmvvGRb-E22wu2g.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*AcGEAuowmvvGRb-E22wu2g.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Wait for the transfer and installation to complete, then you can reopen the app on your phone, successfully revived!</p><h4 id="meat-back-up-the-final-api-response-data"><span class="me-2">[Meat] Back Up the Final API Response Data</span><a href="#meat-back-up-the-final-api-response-data" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Here we will use the method and open-source project mentioned in the previous <a href="../5a5c4b25a83d/"><strong>App End-to-End Testing Local Snapshot API Mock Server</strong></a> <strong>article (refer to the details and principles)</strong>.</p><p><a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank" class="img-link shimmer" ><img data-src="https://repository-images.githubusercontent.com/686628812/44cf2ec7-4de1-4a10-b213-bf7dd30748a4" alt="" class="lazyload" data-proofer-ignore></a></p><p>With the same technique used for recording API Request &amp; Response for E2E Testing, we can also use it to record the last API Request &amp; Response Data before an app is taken down or shut down.</p><p><strong>1. Install <a href="https://mitmproxy.org/" target="_blank">mitmproxy</a></strong></p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">brew</span> <span class="nx">install</span> <span class="nx">mitmproxy</span>
</pre></table></code></div></div><p>mitmproxy is an open-source man-in-the-middle attack and network request sniffing tool.</p><p>If you are not familiar with the working principle of Mitmproxy man-in-the-middle attacks, you can refer to my previous article: “<a href="../46410aaada00/">The APP uses HTTPS transmission, but the data was still stolen.</a>” or the <a href="https://docs.mitmproxy.org/stable/overview-getting-started/" target="_blank">Mitmproxy official documentation</a>.</p><p>If you are using it purely for network request sniffing and are not comfortable with the mitmproxy interface, you can also use “<a href="https://proxyman.io/" target="_blank">Proxyman</a>” as referenced in another <a href="../70a1409b149a/">previous article</a>.</p><p><strong>2. Complete mitmproxy certificate setup</strong></p><blockquote><p><em>For HTTPS encrypted connections, we need to use a root certificate swap to perform a man-in-the-middle attack. Therefore, the first time you use it, you need to complete the root certificate download and activation on the mobile end.</em></p></blockquote><blockquote><p><em>*If your App &amp; API Server has implemented SSL Pinning, you also need to add the Pinning certificate to mitmproxy.</em></p></blockquote><ul><li>First, ensure that the iPhone and Mac are connected to the same network environment.<li>If there is no WiFi and the computer is connected to a physical network, you can also <a href="https://applealmond.com/posts/92291" target="_blank">turn on the Mac’s WiFi sharing feature</a> to let the phone connect to the Mac’s network.</ul><p>Start <code class="language-plaintext highlighter-rouge">mitmproxy</code> or <code class="language-plaintext highlighter-rouge">mitmweb</code> (Web GUI version) in Terminal.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">mitmproxy</span>
</pre></table></code></div></div><p><a href="/assets/b04f4fba3cf2/1*xruNW5ZUPNuxVJvKOyPQTA.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*xruNW5ZUPNuxVJvKOyPQTA.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Seeing this screen means the mitmproxy service has started, and there is no traffic coming in, so it is empty. Keep this screen open and do not close the Terminal.</p><ul><li>Go to the Mac network settings to check the Mac’s IP address.</ul><p>Go back to the phone’s WiFi settings, click “i” to enter detailed settings, and find “Configure Proxy” at the bottom:</p><p><a href="/assets/b04f4fba3cf2/1*zXVilpUXnXakpWib007BPA.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*zXVilpUXnXakpWib007BPA.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/b04f4fba3cf2/1*QV6reSNc0AJg7sQa2qiCjQ.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*QV6reSNc0AJg7sQa2qiCjQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><ul><li>Enter the Mac’s IP address in the server field.<li>Enter 8080 in the port field.<li>Save.</ul><p><strong>Open Safari on the phone and enter: <a href="http://mitm.it/" target="_blank">http://mitm.it/</a></strong></p><p>If it shows:</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nc">If</span> <span class="n">you</span> <span class="n">can</span> <span class="n">see</span> <span class="k">this</span><span class="p">,</span> <span class="n">traffic</span> <span class="k">is</span> <span class="n">not</span> <span class="n">passing</span> <span class="n">through</span> <span class="n">mitmproxy</span><span class="p">.</span>
</pre></table></code></div></div><p>It means the network proxy server on the phone was not set up successfully, or <code class="language-plaintext highlighter-rouge">mitmproxy</code> was not started on the Mac.</p><p>Under normal circumstances, it will show:</p><p><a href="/assets/b04f4fba3cf2/1*Ks5IHpi2AoPj4wXu5ZH9VA.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*Ks5IHpi2AoPj4wXu5ZH9VA.png" alt="" class="lazyload" data-proofer-ignore></a></p><blockquote><p><em>At this point, only HTTP traffic can be sniffed, and HTTPS traffic will report an error. We will continue to set it up.</em></p></blockquote><p>This means the connection is successful. Find the iOS section and click “Get mitmproxy-ca-cert.pem”.</p><p><a href="/assets/b04f4fba3cf2/1*HvIg0jtUQ5ops519YUA52A.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*HvIg0jtUQ5ops519YUA52A.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/b04f4fba3cf2/1*tU3gi3PBvrbUc-tqKjUD9w.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*tU3gi3PBvrbUc-tqKjUD9w.png" alt="" class="lazyload" data-proofer-ignore></a></p><ul><li>Click “Allow”.</ul><p>After the download is complete, go to the phone’s settings, and you will see “Profile Downloaded”. Click to enter.</p><p><a href="/assets/b04f4fba3cf2/1*JzX7U1jCtda915mGz5CPjw.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*JzX7U1jCtda915mGz5CPjw.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/b04f4fba3cf2/1*mWmVPZ-au302NGHXgCxAow.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*mWmVPZ-au302NGHXgCxAow.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/b04f4fba3cf2/1*SMnr82MEIo4YaYOvTpILeQ.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*SMnr82MEIo4YaYOvTpILeQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><ul><li>Click to enter, in the upper right corner “Install”, enter the phone password to complete the installation.</ul><p>Go back to Settings -&gt; “General” -&gt; “About” -&gt; At the bottom “Certificate Trust Settings” -&gt; Enable “mitmproxy”.</p><p><a href="/assets/b04f4fba3cf2/1*UOcYlpOolfWithLb517__g.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*UOcYlpOolfWithLb517__g.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/b04f4fba3cf2/1*LAoe10TplFdfWXEHMRAvWw.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*LAoe10TplFdfWXEHMRAvWw.png" alt="" class="lazyload" data-proofer-ignore></a></p><ul><li>“Continue” to complete the activation.</ul><p>At this point, we have completed all the preliminary work for the man-in-the-middle attack.</p><blockquote><p><em>Remember that all the traffic on your phone will go through the proxy from your Mac computer. <strong>After the operation is completed, remember to go back to the network settings on your phone and turn off the proxy server settings</strong>, otherwise the phone’s WiFi will not be able to connect to the external network.</em></p></blockquote><p>Go back to Terminal mitmproxy, and while operating the App on your phone, you can see all the captured API request records.</p><p><a href="/assets/b04f4fba3cf2/1*-aRzC2HWRCvGok-L9jbjHA.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*-aRzC2HWRCvGok-L9jbjHA.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Each request can be entered to view detailed Request &amp; Response content:</p><p><a href="/assets/b04f4fba3cf2/1*IyO00OEpAadapGKNtOV_Mg.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*IyO00OEpAadapGKNtOV_Mg.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>The above is the basic setup and actual work of mitmproxy.</p><p><strong>3. Sniff and Understand the API Structure</strong></p><p>Next, we will use mitmproxy’s <code class="language-plaintext highlighter-rouge">mitmdump</code> service combined with the <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank"><strong>mitmproxy-rodo</strong></a> <a href="https://docs.mitmproxy.org/stable/addons-overview/" target="_blank">addons</a> I developed earlier to record and replay requests.</p><blockquote><p><a href="../5a5c4b25a83d/"><em>My implementation principle</em></a> <em>is to calculate the Hash value of the Request parameters. When replaying, the request is taken to calculate the Hash again. If the same Hash value backup Response is found locally, it will be returned. If there are multiple requests with the same Hash value, they will be stored and replayed in order.</em></p></blockquote><p>We can first use the above method to sniff the App’s API (or use <a href="https://proxyman.io/" target="_blank">Proxyman</a>), observe which fields might affect Hash Mapping, and record them for later exclusion settings. <strong>For example, some APIs always carry the <code class="language-plaintext highlighter-rouge">?ts</code> parameter, which does not affect the returned content but affects the Hash value calculation, making it impossible to find the local backup. We need to pick it out and exclude it in the later settings.</strong></p><p><strong>4. Set up <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank">mitmproxy-rodo</a>:</strong></p><p>Use the open-source recording and replay script I wrote.</p><blockquote><p><strong><em>For detailed parameter settings, please refer to the instructions of the open-source project.</em></strong></p></blockquote><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git clone git@github.com:ZhgChgLi/mitmproxy-rodo.git
<span class="nb">cd </span>mitmproxy-rodo
</pre></table></code></div></div><p>Fill in the parameters picked out in step 3 into the config.json configuration file:</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"ignored"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"iterable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"enables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"formData"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"connect_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_name"</span><span class="p">,</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"formData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"aidck"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"device_id"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ver_name"</span><span class="p">,</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>The above parameters will be excluded when calculating the Hash value, and specific exclusion rules can be set for individual Endpoint paths.</p><p><strong>5. Enable recording, and execute in Terminal:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmdump <span class="nt">-s</span> rodo.py <span class="nt">--set</span> <span class="nv">dumper_folder</span><span class="o">=</span>zhgchgli <span class="nt">--set</span> <span class="nv">config_file</span><span class="o">=</span>config.json <span class="nt">--set</span> <span class="nv">record</span><span class="o">=</span><span class="nb">true</span> <span class="s2">"~d zhgchg.li"</span>
</pre></table></code></div></div><ul><li>The ending <code class="language-plaintext highlighter-rouge">"~d zhgchg.li"</code> means to capture only the traffic of * .zhgchg.li.<li><code class="language-plaintext highlighter-rouge">dumper_folder</code>: Name of the output destination directory</ul><p><strong>6. Operate the target App on the phone to execute the desired recording process path</strong></p><ul><li>It is recommended to restart and reinstall the App to start with the cleanest state.<li>It is recommended to record a video to help remember the reproduction steps.</ul><p><a href="/assets/b04f4fba3cf2/1*SeivG1XaRcd5uq2uMkyrSA.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*SeivG1XaRcd5uq2uMkyrSA.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>While operating, you will see many captured API Response Data in the output directory, stored according to Domain -&gt; API path -&gt; HTTP method -&gt; Hash value -&gt; Header-X / Content-X (if the same Hash request is made twice, it will be saved in order).</p><ul><li>To re-record, you can directly delete the output directory and let it capture again.<li><strong>If the returned data contains personal information, remember to adjust the captured content to anonymize it.</strong></ul><h4 id="meat-replay-the-captured-api-response-data"><span class="me-2">[Meat] Replay the captured API Response Data</span><a href="#meat-replay-the-captured-api-response-data" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>After recording, be sure to try replaying once to test if the data is normal. If the Hash Hit is very low (almost no corresponding Response found during replay), you can repeat the sniffing steps to find the variable that affects the Hash value each time the App is executed and exclude it.</p><p><strong>Execute replay:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>mitmdump <span class="nt">-s</span> rodo.py <span class="nt">--set</span> <span class="nv">dumper_folder</span><span class="o">=</span>zhgchgli <span class="nt">--set</span> <span class="nv">config_file</span><span class="o">=</span>config.json
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">dumper_folder</code>: Name of the output destination directory<li>By default, if there is no locally mapped Hash Response Data, it will directly return 404 to make the App blank, so you can know if the captured data is effective.</ul><p><a href="/assets/b04f4fba3cf2/1*0Cjy_5RZRq3tvE1Pc0lQ9A.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*0Cjy_5RZRq3tvE1Pc0lQ9A.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><a href="/assets/b04f4fba3cf2/1*JKorlo3EBeSWXhB9Exw4ZA.png" class="popup img-link "><img data-src="/assets/b04f4fba3cf2/1*JKorlo3EBeSWXhB9Exw4ZA.png" alt="" class="lazyload" data-proofer-ignore></a></p><ul><li>The path page that was passed during recording and capturing can be displayed again during replay: OK!<li>The path page that was not passed during recording and capturing shows a network error during replay: OK!</ul><h3 id="remembrance"><span class="me-2">Remembrance</span><a href="#remembrance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>At this point, we can reproduce the last moments before the App reached its final station through the restoration of bones and the final meat, to remember the time when everyone worked together to produce it.</p><p>This article commemorates the team of my first job and the time when I transitioned from web backend development to iOS App development, learning while doing, and independently producing a product from scratch in 3-4 months, together with Android, design, PM supervisors, and backend colleagues. Although it is about to reach the end of its life cycle, I will always remember the bittersweet moments and the excitement of seeing it go live and being used for the first time.</p><blockquote><p>“Thank you”</p></blockquote><h4 id="contributions-welcome"><span class="me-2">Contributions Welcome</span><a href="#contributions-welcome" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>If you have the same regrets, I hope this article can help you, because <a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main" target="_blank">mitmproxy-rodo</a> was initially developed as a POC concept verification tool. Contributions, bug reports, or PRs to fix bugs are welcome.</p><p><a href="https://github.com/ZhgChgLi/mitmproxy-rodo/tree/main?source=post_page-----5a5c4b25a83d--------------------------------" target="_blank" class="img-link shimmer" ><img data-src="https://repository-images.githubusercontent.com/686628812/44cf2ec7-4de1-4a10-b213-bf7dd30748a4" alt="" class="lazyload" data-proofer-ignore></a></p><p>For any questions or comments, feel free to <a href="https://www.zhgchg.li/contact" target="_blank">contact me</a>.</p><p>===</p><p><a href="https://zhgchg.li/posts/b04f4fba3cf2/" target="_blank">本文中文版本</a></p><p>===</p><p>This article was first published in Traditional Chinese on Medium ➡️ <a href="https://medium.com/p/b04f4fba3cf2" target="_blank"><strong>View Here</strong></a></p><widgetic id="64ce71d5ecb2a165598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script></div><hr/> <a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer!&emoji=🍺&slug=zhgchgli&button_colour=FFDD00&font_colour=000000&font_family=Bree&outline_colour=000000&coffee_colour=ffffff" class="lazyload" data-proofer-ignore></a> <br/> <a href="https://medium.com/@zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="/assets/images/followmymedium.png" class="lazyload" data-proofer-ignore></a> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3184248473087645" data-ad-slot="7555148040"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/zrealm/'>ZRealm</a>, <a href='/categories/dev/'>Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/man-in-the-middle-attack/" class="post-tag no-text-decoration" >man-in-the-middle-attack</a> <a href="/tags/mitmproxy/" class="post-tag no-text-decoration" >mitmproxy</a> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/app-development/" class="post-tag no-text-decoration" >app-development</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=What%20Can%20Be%20Done%20to%20Commemorate%20When%20an%20App%20Product%20Reaches%20Its%20End?%20-%20ZhgChgLi&url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2Fb04f4fba3cf2%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=What%20Can%20Be%20Done%20to%20Commemorate%20When%20an%20App%20Product%20Reaches%20Its%20End?%20-%20ZhgChgLi&u=https%3A%2F%2Fen.zhgchg.li%2Fposts%2Fb04f4fba3cf2%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2Fb04f4fba3cf2%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/d9a95d4224ea/">Medium Custom Domain Feature Returns</a><li class="text-truncate lh-lg"> <a href="/posts/483af5d93297/">Custom Domain Tutorial for Github Pages</a><li class="text-truncate lh-lg"> <a href="/posts/9e43897d99fc/">Behavior Change in Merging NSAttributedString Attributes Range in iOS ≥ 18</a><li class="text-truncate lh-lg"> <a href="/posts/b08ef940c196/">iOS Deferred Deep Link Implementation (Swift)</a><li class="text-truncate lh-lg"> <a href="/posts/12c5026da33d/">What's New with Universal Links</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/46410aaada00/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1568973661" data-df="ll" > Sep 20, 2019 </em><h4 class="pt-0 my-2" data-toc-skip>The APP uses HTTPS for transmission, but the data was still stolen.</h4><div class="text-muted small"><p> The APP uses HTTPS for transmission, but the data was still stolen. Using mitmproxy on iOS+MacOS to perform a Man-in-the-middle attack to sniff API transmission data and how to prevent it? Introd...</p></div></div></a></div><div class="col"> <a href="/posts/70a1409b149a/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1613822151" data-df="ll" > Feb 20, 2021 </em><h4 class="pt-0 my-2" data-toc-skip>Using Python+Google Cloud Platform+Line Bot to Automate Routine Tasks</h4><div class="text-muted small"><p> Using Python+Google Cloud Platform+Line Bot to Automate Routine Tasks Creating a daily automatic check-in script using a check-in reward app as an example Photo by Paweł Czerwiński Origin I ha...</p></div></div></a></div><div class="col"> <a href="/posts/bd94cc88f9c9/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1708089421" data-df="ll" > Feb 16, 2024 </em><h4 class="pt-0 my-2" data-toc-skip>Slack & ChatGPT Integration</h4><div class="text-muted small"><p> Slack &amp;amp; ChatGPT Integration Build your own ChatGPT OpenAI API for Slack App (Google Cloud Functions &amp;amp; Python) Background Recently, I have been promoting the use of Generative AI within t...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/f6713ba3fee3/" class="btn btn-outline-primary" prompt="Older" ><p>Implementing Google Services RPA Automation with Google Apps Script</p></a> <a href="/posts/9d0f23784359/" class="btn btn-outline-primary" prompt="Newer" ><p>Plane.so Free Open Source and Self-Hosted Support Project Management Tool Similar to Asana/Jira</p></a></div><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'en', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> <br/> <a href="https://zhgchg.li" target="_blank">中文版網站</a><br/> Powered by <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a>.</p><p>© 2024 <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span></p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-JSGN97L56L"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-JSGN97L56L'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
