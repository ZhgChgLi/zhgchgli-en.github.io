<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="First Experience with iOS Reverse Engineering" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="Exploring the process from jailbreaking, extracting iPA files, shelling, to UI analysis, injection, and decompilation" /><meta property="og:description" content="Exploring the process from jailbreaking, extracting iPA files, shelling, to UI analysis, injection, and decompilation" /><link rel="canonical" href="https://en.zhgchg.li/posts/7498e1ff93ce/" /><meta property="og:url" content="https://en.zhgchg.li/posts/7498e1ff93ce/" /><meta property="og:site_name" content="ZhgChgLi" /><meta property="og:image" content="https://en.zhgchg.li/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.jpeg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-03-28T18:24:40+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://en.zhgchg.li/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.jpeg" /><meta property="twitter:title" content="First Experience with iOS Reverse Engineering" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@ZhgChgLi" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi"},"dateModified":"2023-08-06T01:02:37+08:00","datePublished":"2020-03-28T18:24:40+08:00","description":"Exploring the process from jailbreaking, extracting iPA files, shelling, to UI analysis, injection, and decompilation","headline":"First Experience with iOS Reverse Engineering","image":"https://en.zhgchg.li/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.jpeg","mainEntityOfPage":{"@type":"WebPage","@id":"https://en.zhgchg.li/posts/7498e1ff93ce/"},"url":"https://en.zhgchg.li/posts/7498e1ff93ce/"}</script><title>First Experience with iOS Reverse Engineering | ZhgChgLi</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi"><meta name="application-name" content="ZhgChgLi"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">ZhgChgLi</a></div><div class="site-subtitle fst-italic">Live a life you will remember.</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/real/" class="nav-link"> <i class="fa-fw fa fa-camera-retro"></i> <span>REAL LIFE</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>First Experience with iOS Reverse Engineering</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>First Experience with iOS Reverse Engineering</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1585391080" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Mar 28, 2020 </em> </span> <span> Updated <em class="" data-ts="1691254957" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Aug 5, 2023 </em> </span><div class="mt-3 mb-3"> <a href="/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.jpeg" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.jpeg" alt="Preview Image" width="1200" height="630" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2000 words" > <em>11 min</em> read</span></div></div></div><div class="post-content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><h3 id="first-experience-with-ios-reverse-engineering"><span class="me-2">First Experience with iOS Reverse Engineering</span><a href="#first-experience-with-ios-reverse-engineering" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Exploring the process from jailbreaking, extracting iPA files, shelling, to UI analysis, injection, and decompilation</p><h3 id="about-security"><span class="me-2">About Security</span><a href="#about-security" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The only thing I did related to security before was <a href="../46410aaada00/"><strong>« Using Man-in-the-Middle Attack to Sniff Transmission Data »</strong></a>; additionally, following this, suppose we encode and encrypt data before transmission and decrypt it within the APP upon receipt to prevent man-in-the-middle sniffing; is it still possible for the data to be stolen?</p><blockquote><p>The answer is yes! Even if you haven’t actually tested it; there is no unbreakable system in the world, only the issue of time and cost. When the time and effort required to crack it exceed the benefits, it can be considered secure!</p></blockquote><h4 id="how"><span class="me-2">How?</span><a href="#how" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Having done all this, how can it still be broken? This is the topic I want to document in this article — <strong>“Reverse Engineering”</strong>, cracking open your APP to study how you do encryption and decryption. I’ve always been somewhat clueless about this field, only hearing two major talks at iPlayground 2019, where I roughly understood the principles and implementation. Recently, I had the chance to play around with it and share it with everyone!</p><h3 id="what-can-you-do-with-reverse-engineering"><span class="me-2">What can you do with reverse engineering?</span><a href="#what-can-you-do-with-reverse-engineering" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>View APP UI layout and structure<li>Obtain APP resource directories .assets/.plist/icon…<li>Modify APP functions and repackage (EX: remove ads)<li>Decompile to infer original source code and obtain business logic information<li>Dump .h header files / keychain contents</ul><h3 id="implementation-environment"><span class="me-2">Implementation Environment</span><a href="#implementation-environment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>macOS Version:</strong> 10.15.3 Catalina <strong>iOS Version:</strong> iPhone 6 (iOS 12.4.4 / Jailbroken) <strong>*Required</strong> <strong>Cydia:</strong> Open SSH</p><h4 id="jailbreaking"><span class="me-2">Jailbreaking</span><a href="#jailbreaking" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Any version of iOS, iPhone can be used, as long as it is a jailbreakable device. It is recommended to use an old phone or a development device to avoid unnecessary risks. You can refer to <a href="https://mrmad.com.tw/category/jb/jailbreak" target="_blank">Mr. Crazy’s Jailbreak Tutorial</a> based on your phone and iOS version. If necessary, you may need to <a href="https://mrmad.com.tw/new-ios-downgrade-old-ios" target="_blank">downgrade iOS</a> (<a href="https://mrmad.com.tw/ios-firmware" target="_blank">Certification Status Check</a>) before jailbreaking.</p><p>I used an old iPhone 6 for testing. It was originally upgraded to iOS 12.4.5, but I found that 12.4.5 couldn’t be jailbroken successfully. So, I downgraded to 12.4.4 and used <a href="https://checkra.in/" target="_blank">checkra1n</a> to jailbreak successfully!</p><p>The steps are not many and not difficult; it just requires some waiting time!</p><p><strong>A silly experience of mine:</strong> After downloading the old IPSW file, connect the phone to the Mac, use Finder (macOS 10.5 and later no longer have iTunes), select the phone under Locations on the left, and in the phone information screen, <strong>hold “Option” and then click “Restore iPhone”</strong> to bring up the IPSW file selection window. Choose the old IPSW file you just downloaded to complete the downgrade.</p><p><a href="/assets/7498e1ff93ce/1*jlxQNpYPXJ2yrNoYM_Sgwg.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*jlxQNpYPXJ2yrNoYM_Sgwg.png" alt="" class="lazyload" data-proofer-ignore></a></p><blockquote><p>I foolishly clicked Restore iPhone directly… it only wasted time reinstalling the latest version…</p></blockquote><h3 id="using-lookin-tool-to-view-other-peoples-app-ui-layout"><span class="me-2">Using lookin tool to view other people’s APP UI layout</span><a href="#using-lookin-tool-to-view-other-peoples-app-ui-layout" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Let’s start with something interesting, using tools and a jailbroken phone to see how others layout their APP.</p><p>Viewing tools: One is the veteran <a href="https://revealapp.com/" target="_blank">Reveal</a> (more complete features, costs about $60 USD/can be tried), and the other is the free open-source tool <a href="https://lookin.work/" target="_blank">lookin</a> made by Tencent QMUI Team. Here, we use lookin as a demonstration; Reveal is similar.</p><blockquote><p><em>If you don’t have a jailbroken phone, it’s okay. This tool is mainly for use in development projects to view Debug layouts (replacing Xcode’s basic inspector). <strong>It can also be used in regular development</strong>!</em></p></blockquote><blockquote><p><em><strong>Only when you want to view someone else’s APP do you need a jailbroken phone.</strong></em></p></blockquote><h4 id="if-you-want-to-view-your-own-project"><span class="me-2">If you want to view your own project…</span><a href="#if-you-want-to-view-your-own-project" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>You can choose to install using <a href="https://lookin.work/faq/integration-cocoapods/" target="_blank">CocoaPods</a>, <a href="https://lookin.work/faq/integration-breakpoint/" target="_blank">Breakpoint Injection</a> (only supports simulators), <a href="https://lookin.work/faq/integration-sourcecode/" target="_blank">manually import the Framework into the project</a>, or <a href="https://lookin.work/faq/integration-manual/" target="_blank">manual setup</a>.</p><p>After building and running the project, you can <strong>select the APP screen in the Lookin tool</strong> -&gt; <strong>view the layout structure</strong>.</p><p><a href="/assets/7498e1ff93ce/1*DZJ7-gFs8hf9Dxl5FAjHIQ.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*DZJ7-gFs8hf9Dxl5FAjHIQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><h4 id="if-you-want-to-view-someone-elses-app"><span class="me-2">If you want to view someone else’s APP…</span><a href="#if-you-want-to-view-someone-elses-app" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/7498e1ff93ce/1*jJ_1bIAPxmqHzu8dAtyYSw.jpeg" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*jJ_1bIAPxmqHzu8dAtyYSw.jpeg" alt="" class="lazyload" data-proofer-ignore></a></p><p><strong>Step 1.</strong> Open “ <strong>Cydia</strong> “ on the jailbroken phone -&gt; search for “ <strong>LookinLoader</strong> “ -&gt; “ <strong>Install</strong> “ -&gt; go back to the phone “ <strong>Settings</strong> “ -&gt; “ <strong>Lookin</strong> “ -&gt; “ <strong>Enabled Applications</strong> “ -&gt; <strong>enable the APP you want to view</strong>.</p><p><strong>Step 2.</strong> Use a cable to <strong>connect the phone to the Mac computer</strong> -&gt; <strong>open the APP you want to view</strong> -&gt; go back to the computer, <strong>select the APP screen in the Lookin tool</strong> -&gt; you can <strong>view the layout structure</strong>.</p><h4 id="lookin-view-layout-structure"><span class="me-2">Lookin View Layout Structure</span><a href="#lookin-view-layout-structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/7498e1ff93ce/1*qqLRdYwVBbLXj1Rn3iEMEw.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*qqLRdYwVBbLXj1Rn3iEMEw.png" alt="Facebook login screen layout structure" class="lazyload" data-proofer-ignore></a></p><p>Facebook login screen layout structure</p><p>You can view the View Hierarchy in the left sidebar and dynamically modify the selected object in the right sidebar.</p><p><a href="/assets/7498e1ff93ce/1*72YKbJleXjvirZzdvIRSIw.jpeg" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*72YKbJleXjvirZzdvIRSIw.jpeg" alt="The original &quot;Create New Account&quot; was changed to &quot;Hahaha&quot; by me" class="lazyload" data-proofer-ignore></a></p><p>The original “Create New Account” was changed to “Hahaha” by me</p><p>Modifications to the object will also be displayed in real-time on the mobile APP, as shown above.</p><p>Just like the “F12” developer tools for web pages, all modifications are only effective for the View and will not affect the actual data; mainly used for Debugging, but you can also use it to change values, take screenshots, and then trick your friends XD.</p><h4 id="using-the-reveal-tool-to-view-app-ui-layout-structure"><span class="me-2">Using the <a href="https://revealapp.com/" target="_blank">Reveal</a> tool to view APP UI layout structure</span><a href="#using-the-reveal-tool-to-view-app-ui-layout-structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p><a href="/assets/7498e1ff93ce/1*vkzR6_y3Y4qCgoVM150Ozg.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*vkzR6_y3Y4qCgoVM150Ozg.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>Although Reveal requires a paid subscription, I personally prefer Reveal; it provides more detailed information on the structure, and the right information panel is almost equivalent to the XCode development environment, allowing for real-time adjustments. Additionally, it will prompt Constraint Errors, which is very helpful for UI layout corrections!</p><p><strong>Both of these tools are very helpful in the daily development of your own APP!</strong></p><blockquote><p><em>After understanding the process environment and the interesting parts, let’s get to the main topic!</em></p></blockquote><blockquote><p>*The following requires a jailbroken phone</p></blockquote><h3 id="extracting-app-ipa-files--cracking"><span class="me-2">Extracting APP .ipa files &amp; Cracking</span><a href="#extracting-app-ipa-files--cracking" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>All APPs installed from the App Store have <a href="https://zh.wikipedia.org/wiki/Ipa%E6%96%87%E4%BB%B6" target="_blank">FairPlay DRM</a> protection, commonly known as shell protection. Removing this protection is called “cracking,” so simply extracting the .ipa from the App Store is meaningless and unusable.</p><p><em>*Another tool, APP Configurator 2, can only extract protected files, which is meaningless, so it won’t be elaborated here. Those interested in using this tool can <a href="https://blog.csdn.net/aa464971/article/details/87955711" target="_blank">click here</a> for a tutorial.</em></p><h4 id="using-tools--jailbroken-phone-to-extract-the-original-cracked-ipa-file"><span class="me-2">Using tools + jailbroken phone to extract the original cracked .ipa file:</span><a href="#using-tools--jailbroken-phone-to-extract-the-original-cracked-ipa-file" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Regarding the tools, initially, I used <a href="https://github.com/KJCracks/Clutch/releases" target="_blank">Clutch</a>, but no matter how I tried, it always showed FAILED. After checking the project’s issues, I found that many people had the same problem. It seems that this tool can no longer be used on iOS ≥ 12. There is also an old tool called <a href="https://juejin.im/post/5d31e948f265da1bd2612788" target="_blank">dumpdecrypted</a>, but I haven’t looked into it.</p><p>Here, I use <a href="https://github.com/AloneMonkey/frida-ios-dump" target="_blank">frida-ios-dump</a>, a Python tool for dynamic binary dumping, which is very convenient to use!</p><p><strong>First, let’s prepare the environment on the Mac:</strong></p><ol><li>The Mac comes with Python 2.7 by default. This tool supports Python 2.X/3.X, so there’s no need to install Python separately. However, I used Python 3.X for the operation. If you encounter issues with Python 2.X, you might want to <a href="https://stringpiggy.hpd.io/mac-osx-python3-multiple-pyenv-install/" target="_blank">install and use Python 3</a>!<li>Install <a href="https://pip.pypa.io/en/stable/installing/" target="_blank">pip</a> (Python’s package manager).<li>Use pip to install <a href="https://frida.re/" target="_blank">frida</a>: <code class="language-plaintext highlighter-rouge">sudo pip install frida --upgrade --ignore-installed six</code> (Python 2.X) <code class="language-plaintext highlighter-rouge">sudo pip3 install frida --upgrade --ignore-installed six</code> (Python 3.X)<li>Enter <code class="language-plaintext highlighter-rouge">frida-ps</code> in Terminal. If there are no error messages, the installation was successful!<li>Clone the <a href="https://github.com/AloneMonkey/frida-ios-dump" target="_blank">AloneMonkey/frida-ios-dump</a> project.<li>Enter the project and open the dump.py file with a text editor.<li>Ensure the SSH connection settings are correct (no need to change the default settings): User = ‘root’ Password = ‘alpine’ Host = ‘localhost’ Port = 2222</ol><p><strong>Environment on the jailbroken phone:</strong></p><ol><li>Install Open SSH: Cydia → Search → Open SSH → Install<li>Install the Frida source: Cydia → Sources → Top right “Edit” → Top left “Add” → <a href="https://build.frida.re/" target="_blank">https://build.frida.re</a><li>Install Frida: Cydia → Search → Frida → Install the corresponding tool according to the phone’s processor version (e.g., I have an iPhone 6 A11, so I installed <code class="language-plaintext highlighter-rouge">Frida for pre-A12 devices</code>).</ol><p><strong>Once the environment is set up, let’s get started:</strong></p><ol><li><p>Connect the phone to the computer using a USB cable.</p><li><p>Open a Terminal on the Mac and enter <code class="language-plaintext highlighter-rouge">iproxy 2222 22</code> to start the server.</p><li><p>Ensure the phone/computer are on the same network (e.g., connected to the same WiFi).</p><li><p>Open another Terminal and enter <code class="language-plaintext highlighter-rouge">ssh root@127.0.0.1</code>, then enter the SSH password (default is <code class="language-plaintext highlighter-rouge">alpine</code>).</p></ol><p><a href="/assets/7498e1ff93ce/1*3X-Wgh0XuNwslF4nSYAGlA.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*3X-Wgh0XuNwslF4nSYAGlA.png" alt="" class="lazyload" data-proofer-ignore></a></p><ol><li>Open another Terminal to execute the dumping command. Navigate to the cloned /frida-ios-dump directory.</ol><p>Enter <code class="language-plaintext highlighter-rouge">dump.py -l</code> to list the installed/running apps on the phone.</p><p><a href="/assets/7498e1ff93ce/1*FSr_QMRFqMRv9OHjhDDIKQ.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*FSr_QMRFqMRv9OHjhDDIKQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><ol><li>Find the name/Bundle ID of the app you want to dump and enter:</ol><p><code class="language-plaintext highlighter-rouge">dump.py APP_NAME_OR_BUNDLE_ID -o OUTPUT_PATH/OUTPUT_FILENAME.ipa</code></p><p>Be sure to specify the <strong>output path/filename</strong> because the default output path is <code class="language-plaintext highlighter-rouge">/opt/dump/frida-ios-dump/</code>. To avoid moving it to <code class="language-plaintext highlighter-rouge">/opt/dump</code>, specify the output path to avoid permission errors.</p><ol><li>After a successful output, you can obtain the cracked .ipa file!</ol><p><a href="/assets/7498e1ff93ce/1*T49RwSRIcgO26pihxEu3BQ.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*T49RwSRIcgO26pihxEu3BQ.png" alt="" class="lazyload" data-proofer-ignore></a></p><ul><li>The phone must be unlocked to use the tool.<li>If connection errors occur, such as reset by peer, try unplugging and replugging the USB connection or restarting iproxy.</ul><ol><li>Rename the .ipa file directly to a .zip file, then right-click to extract the file.</ol><p>You will see <code class="language-plaintext highlighter-rouge">/Payload/APP_NAME.app</code></p><h3 id="with-the-original-app-file-we-can"><span class="me-2">With the original APP file, we can…</span><a href="#with-the-original-app-file-we-can" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="1-extract-the-apps-resource-directory"><span class="me-2">1. Extract the APP’s resource directory</span><a href="#1-extract-the-apps-resource-directory" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Right-click on APP_NAME.app → “Show Package Contents” to see the APP’s resource directory.</p><p><a href="/assets/7498e1ff93ce/1*YtQO1injuB8eH2wXQJ2ktw.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*YtQO1injuB8eH2wXQJ2ktw.png" alt="" class="lazyload" data-proofer-ignore></a></p><h4 id="2-use-class-dump-to-extract-the-apps-h-header-file-information"><span class="me-2">2. Use class-dump to extract the APP’s .h header file information</span><a href="#2-use-class-dump-to-extract-the-apps-h-header-file-information" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Use the class-dump tool to export all the APP’s (including Framework) .h header file information (only for Objective-C, not effective for Swift projects).</p><p><a href="https://github.com/nygard/class-dump" target="_blank"><em>nygard/class-dump</em></a> <em>I tried using this tool but failed repeatedly; eventually, I succeeded using the rewritten class-dump tool from <a href="https://github.com/AloneMonkey" target="_blank">AloneMonkey</a> / <a href="https://github.com/AloneMonkey/MonkeyDev" target="_blank">MonkeyDev</a>.</em></p><ul><li>Download the tool directly from here: <a href="https://github.com/AloneMonkey/MonkeyDev/blob/master/bin/class-dump" target="_blank">MonkeyDev/bin/class-dump</a><li>Open Terminal and use: <code class="language-plaintext highlighter-rouge">./class-dump -H APP_PATH/APP_NAME.app -o OUTPUT_PATH</code></ul><p><a href="/assets/7498e1ff93ce/1*crdnoYeF6fnSqm79wZNFiw.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*crdnoYeF6fnSqm79wZNFiw.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>After a successful dump, you can obtain the entire APP’s .h information.</p><h4 id="4-the-final-and-most-difficult-step--decompilation"><span class="me-2">4. The final and most difficult step — decompilation</span><a href="#4-the-final-and-most-difficult-step--decompilation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>You can use decompilation tools like <a href="https://www.hex-rays.com/products/ida/support/links.shtml" target="_blank">IDA</a> and <a href="https://www.hopperapp.com/" target="_blank">Hopper</a> for analysis. Both are paid tools, but <a href="https://www.hopperapp.com/" target="_blank">Hopper</a> offers a free trial (30 minutes per session).</p><p>Drag the obtained APP_NAME.app file directly into Hopper to start the analysis.</p><p><a href="/assets/7498e1ff93ce/1*8LrtLlE2adXLZi5-MDQ20A.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*8LrtLlE2adXLZi5-MDQ20A.png" alt="" class="lazyload" data-proofer-ignore></a></p><p>However, this is where I stopped, as it requires studying machine code, using class-dump results to infer methods, etc.; it requires very deep skills!</p><p>After breaking through the decompilation, you can modify the operation and repackage it into a new APP.</p><p><a href="/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.jpeg" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*6MhDQU2llMbYPb2j5GqxZg.jpeg" alt="Image from One Piece" class="lazyload" data-proofer-ignore></a></p><p>Image from One Piece</p><h3 id="other-tools-for-reverse-engineering"><span class="me-2">Other tools for reverse engineering</span><a href="#other-tools-for-reverse-engineering" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>1. <a href="../46410aaada00/">Using the free MITM Proxy tool to sniff API network request information</a></strong></p><p><a href="/assets/7498e1ff93ce/1*qSYBzTz0nW0LoJ4HkiDPfA.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*qSYBzTz0nW0LoJ4HkiDPfA.png" alt="" class="lazyload" data-proofer-ignore></a></p><blockquote><p><a href="../46410aaada00/">»The APP uses HTTPS transmission, but the data was still stolen.</a></p></blockquote><p><strong>2. Cycript (with a jailbroken phone) dynamic analysis/injection tool:</strong></p><ul><li>Open “Cydia” on the jailbroken phone -&gt; search for “Cycript” -&gt; “Install”<li>Open a Terminal on the computer and use Open SSH to connect to the phone, <code class="language-plaintext highlighter-rouge">ssh root@PHONE_IP</code> (default is <code class="language-plaintext highlighter-rouge">alpine</code>)<li>Open the target APP (keep the APP in the foreground)<li>In Terminal, enter <code class="language-plaintext highlighter-rouge">ps -e | grep APP Bundle ID</code> to find the running APP Process ID<li>Use <code class="language-plaintext highlighter-rouge">cycript -p Process ID</code> to inject the tool into the running APP</ul><p>You can use Objective-C/Javascript for debugging control.</p><p><a href="/assets/7498e1ff93ce/1*6JRXWaSGNIvqUpKE_tbB1A.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*6JRXWaSGNIvqUpKE_tbB1A.png" alt="" class="lazyload" data-proofer-ignore></a></p><p><strong>For Example:</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>// Objective-C code block
cy# alert = [[UIAlertView alloc] initWithTitle:@"HIHI" message:@"ZhgChg.li" delegate:nil cancelButtonTitle:@"Cancel" otherButtonTitles:nl]
cy# [alert show]
</pre></table></code></div></div><p><a href="/assets/7498e1ff93ce/1*SFB5gBgYGGcAb93VioIUrA.png" class="popup img-link "><img data-src="/assets/7498e1ff93ce/1*SFB5gBgYGGcAb93VioIUrA.png" alt="Injecting a UIAlertViewController…" class="lazyload" data-proofer-ignore></a></p><p>Injecting a UIAlertViewController…</p><ul><li><strong>chose( )</strong> : Get target<li><strong>UIApp.keyWindow.recursiveDescription( ).toString( )</strong> : Display view hierarchy structure information<li><strong>new Instance(memory location):</strong> Get object<li><strong>exit(0)</strong> : Exit</ul><p>For detailed operations, refer to <a href="https://sevencho.github.io/archives/c12f47b1.html" target="_blank">this article</a>.</p><p><strong>3. <a href="https://lookin.work/" target="_blank">Lookin</a> / <a href="https://revealapp.com/" target="_blank">Reveal</a> View UI Layout Tools</strong></p><p>Previously introduced, recommending again; also very useful in daily development of your own projects, suggest purchasing and using Reveal.</p><p><strong>4. <a href="http://huni.me/2018/08/12/MonkeyDev/" target="_blank">MonkeyDev Integration Tool</a> for dynamically injecting and modifying APPs and repackaging them into new APPs</strong></p><p><strong>5. <a href="https://github.com/ptoomey3" target="_blank">ptoomey3</a> / <a href="https://github.com/ptoomey3/Keychain-Dumper" target="_blank">Keychain-Dumper</a> for exporting KeyChain content</strong></p><p>For detailed operations, refer to <a href="https://sevencho.github.io/archives/65ed9c65.html" target="_blank">this article</a>, but I didn’t succeed. Looking at the project issues, it seems to have become ineffective since iOS ≥ 12.</p><h3 id="summary"><span class="me-2">Summary</span><a href="#summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>This field is a super big pit, requiring a lot of technical knowledge to master; this article just gives a superficial “experience” of what reverse engineering feels like. Apologies for any shortcomings! <strong>For academic research only, do not do bad things</strong>; personally, I find the whole process and tools quite interesting and it gives a better understanding of APP security!</p><p>For any questions or feedback, feel free to <a href="https://www.zhgchg.li/contact" target="_blank">contact me</a>.</p><p>===</p><p><a href="https://zhgchg.li/posts/7498e1ff93ce/" target="_blank">本文中文版本</a></p><p>===</p><p>This article was first published in Traditional Chinese on Medium ➡️ <a href="https://medium.com/p/7498e1ff93ce" target="_blank"><strong>View Here</strong></a></p><widgetic id="64ce71d5ecb2a165598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script></div><hr/> <a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer!&emoji=🍺&slug=zhgchgli&button_colour=FFDD00&font_colour=000000&font_family=Bree&outline_colour=000000&coffee_colour=ffffff" class="lazyload" data-proofer-ignore></a> <br/> <a href="https://medium.com/@zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="/assets/images/followmymedium.png" class="lazyload" data-proofer-ignore></a> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3184248473087645" data-ad-slot="7555148040"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/zrealm/'>ZRealm</a>, <a href='/categories/dev/'>Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/hacking/" class="post-tag no-text-decoration" >hacking</a> <a href="/tags/jailbreak/" class="post-tag no-text-decoration" >jailbreak</a> <a href="/tags/security/" class="post-tag no-text-decoration" >security</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=First%20Experience%20with%20iOS%20Reverse%20Engineering%20-%20ZhgChgLi&url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F7498e1ff93ce%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=First%20Experience%20with%20iOS%20Reverse%20Engineering%20-%20ZhgChgLi&u=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F7498e1ff93ce%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F7498e1ff93ce%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/d9a95d4224ea/">Medium Custom Domain Feature Returns</a><li class="text-truncate lh-lg"> <a href="/posts/483af5d93297/">Custom Domain Tutorial for Github Pages</a><li class="text-truncate lh-lg"> <a href="/posts/9e43897d99fc/">Behavior Change in Merging NSAttributedString Attributes Range in iOS ≥ 18</a><li class="text-truncate lh-lg"> <a href="/posts/b08ef940c196/">iOS Deferred Deep Link Implementation (Swift)</a><li class="text-truncate lh-lg"> <a href="/posts/12c5026da33d/">What's New with Universal Links</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/8a04443024e2/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1593697896" data-df="ll" > Jul 2, 2020 </em><h4 class="pt-0 my-2" data-toc-skip>iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience</h4><div class="text-muted small"><p> iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience Why do so many iOS apps read your clipboard? Photo by Clint Patterson ⚠️ 2022/07/22 Update: iOS 16 Upcoming Changes St...</p></div></div></a></div><div class="col"> <a href="/posts/46410aaada00/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1568973661" data-df="ll" > Sep 20, 2019 </em><h4 class="pt-0 my-2" data-toc-skip>The APP uses HTTPS for transmission, but the data was still stolen.</h4><div class="text-muted small"><p> The APP uses HTTPS for transmission, but the data was still stolen. Using mitmproxy on iOS+MacOS to perform a Man-in-the-middle attack to sniff API transmission data and how to prevent it? Introd...</p></div></div></a></div><div class="col"> <a href="/posts/e37d66ea1146/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1539454069" data-df="ll" > Oct 14, 2018 </em><h4 class="pt-0 my-2" data-toc-skip>iOS UITextView Text Wrapping Editor (Swift)</h4><div class="text-muted small"><p> iOS UITextView Text Wrapping Editor (Swift) Practical Route Target Functionality: The app has a discussion area where users can post articles. The interface for posting articles needs to support...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/a8c2d7ed144b/" class="btn btn-outline-primary" prompt="Older" ><p>iOS Expand Button Click Area</p></a> <a href="/posts/d796bf8e661e/" class="btn btn-outline-primary" prompt="Newer" ><p>Exploring Methods for Implementing iOS HLS Cache</p></a></div><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'en', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> <br/> <a href="https://zhgchg.li" target="_blank">中文版網站</a><br/> Powered by <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a>.</p><p>© 2024 <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span></p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-JSGN97L56L"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-JSGN97L56L'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
