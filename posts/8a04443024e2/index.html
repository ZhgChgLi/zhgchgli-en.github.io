<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience" /><meta name="author" content="ZhgChgLi" /><meta property="og:locale" content="en" /><meta name="description" content="Why do so many iOS apps read your clipboard?" /><meta property="og:description" content="Why do so many iOS apps read your clipboard?" /><link rel="canonical" href="https://en.zhgchg.li/posts/8a04443024e2/" /><meta property="og:url" content="https://en.zhgchg.li/posts/8a04443024e2/" /><meta property="og:site_name" content="ZhgChgLi" /><meta property="og:image" content="https://en.zhgchg.li/assets/8a04443024e2/1*wM7qHRz14k95BGZk769zIw.jpeg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-07-02T21:51:36+08:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://en.zhgchg.li/assets/8a04443024e2/1*wM7qHRz14k95BGZk769zIw.jpeg" /><meta property="twitter:title" content="iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience" /><meta name="twitter:site" content="@zhgchgli" /><meta name="twitter:creator" content="@ZhgChgLi" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"ZhgChgLi"},"dateModified":"2024-04-13T16:31:53+08:00","datePublished":"2020-07-02T21:51:36+08:00","description":"Why do so many iOS apps read your clipboard?","headline":"iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience","image":"https://en.zhgchg.li/assets/8a04443024e2/1*wM7qHRz14k95BGZk769zIw.jpeg","mainEntityOfPage":{"@type":"WebPage","@id":"https://en.zhgchg.li/posts/8a04443024e2/"},"url":"https://en.zhgchg.li/posts/8a04443024e2/"}</script><title>iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience | ZhgChgLi</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ZhgChgLi"><meta name="application-name" content="ZhgChgLi"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/images/zhgchgli.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">ZhgChgLi</a></div><div class="site-subtitle fst-italic">Live a life you will remember.</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/real/" class="nav-link"> <i class="fa-fw fa fa-camera-retro"></i> <span>REAL LIFE</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fa fa-envelope-open"></i> <span>CONTACT</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://link.zhgchg.li" aria-label="link" target="_blank" rel="noopener noreferrer" > <i class="fas fa-link"></i> </a> <a href="https://www.linkedin.com/in/zhgchgli" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['zhgchgli','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1593697896" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 2, 2020 </em> </span> <span> Updated <em class="" data-ts="1712997113" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 13, 2024 </em> </span><div class="mt-3 mb-3"> <a href="/assets/8a04443024e2/1*wM7qHRz14k95BGZk769zIw.jpeg" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/assets/8a04443024e2/1*wM7qHRz14k95BGZk769zIw.jpeg" alt="Preview Image" width="1200" height="630" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1297 words" > <em>7 min</em> read</span></div></div></div><div class="post-content"> <widgetic id="64ce7263ecb2a197598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script><h3 id="ios-14-clipboard-data-theft-panic-the-dilemma-of-privacy-and-convenience"><span class="me-2">iOS 14 Clipboard Data Theft Panic: The Dilemma of Privacy and Convenience</span><a href="#ios-14-clipboard-data-theft-panic-the-dilemma-of-privacy-and-convenience" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Why do so many iOS apps read your clipboard?</p><p><a href="/assets/8a04443024e2/1*wM7qHRz14k95BGZk769zIw.jpeg" class="popup img-link "><img data-src="/assets/8a04443024e2/1*wM7qHRz14k95BGZk769zIw.jpeg" alt="Photo by [Clint Patterson](https://unsplash.com/@cbpsc1?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText){:target=&quot;_blank&quot;}" class="lazyload" data-proofer-ignore></a></p><p>Photo by <a href="https://unsplash.com/@cbpsc1?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Clint Patterson</a></p><h3 id="Ô∏è-20220722-update-ios-16-upcoming-changes"><span class="me-2">‚ö†Ô∏è 2022/07/22 Update: iOS 16 Upcoming Changes</span><a href="#Ô∏è-20220722-update-ios-16-upcoming-changes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Starting from iOS ‚â• 16, if the user does not actively perform a paste action, a prompt will appear when an app attempts to read the clipboard. The user must click allow for the app to access the clipboard information.</p><p><a href="/assets/8a04443024e2/0*pOtqMDY0qXhDJXXG.png" class="popup img-link "><img data-src="/assets/8a04443024e2/0*pOtqMDY0qXhDJXXG.png" alt="[UIPasteBoard‚Äôs privacy change in iOS 16](https://sarunw.com/posts/uipasteboard-privacy-change-ios16/){:target=&quot;_blank&quot;}" class="lazyload" data-proofer-ignore></a></p><p><a href="https://sarunw.com/posts/uipasteboard-privacy-change-ios16/" target="_blank">UIPasteBoard‚Äôs privacy change in iOS 16</a></p><h3 id="issue"><span class="me-2">Issue</span><a href="#issue" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/8a04443024e2/1*s-2FT2L_BD8vGH7uHRLrsw.png" class="popup img-link "><img data-src="/assets/8a04443024e2/1*s-2FT2L_BD8vGH7uHRLrsw.png" alt="Top prompt message when the clipboard is read by an app" class="lazyload" data-proofer-ignore></a></p><p>Top prompt message when the clipboard is read by an app</p><p>Starting from iOS 14, users are notified when an app reads their clipboard. This has caused significant privacy concerns, especially with apps from China, which already have a notorious reputation. The media has amplified these concerns, leading to widespread panic. However, it‚Äôs not just Chinese apps; many apps from the US, Taiwan, Japan, and around the world have been found to read the clipboard. So why do so many apps need to read the clipboard?</p><p><a href="/assets/8a04443024e2/1*bwxJ9w2WVJy8HT20vdj7eA.png" class="popup img-link "><img data-src="/assets/8a04443024e2/1*bwxJ9w2WVJy8HT20vdj7eA.png" alt="Google Search" class="lazyload" data-proofer-ignore></a></p><p>Google Search</p><h3 id="security"><span class="me-2">Security</span><a href="#security" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The clipboard may contain personal information or even passwords, such as those copied from password managers like 1Password or LastPass. Apps that can read the clipboard can potentially send this information back to their servers, depending on the developer‚Äôs integrity. To investigate, one can use <a href="../46410aaada00/">man-in-the-middle sniffing</a> to monitor the data being sent back to the app‚Äôs servers to see if it includes clipboard information.</p><h3 id="background"><span class="me-2">Background</span><a href="#background" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The <a href="https://developer.apple.com/documentation/uikit/uipasteboard" target="_blank">Clipboard API</a> has been available since iOS 3 in 2009. It wasn‚Äôt until iOS 14 that a prompt was added to notify users. Over the past decade, malicious apps could have already collected enough data.</p><h3 id="why"><span class="me-2">Why</span><a href="#why" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Why do so many apps, both domestic and international, read the clipboard <strong>when opened</strong>?</p><p>First, let‚Äôs define the situation: I‚Äôm referring to <strong>‚Äúwhen the app is opened‚Äù</strong>, not when the app is actively being used. Reading the clipboard during app usage is more related to app functionality, such as Google Maps automatically pasting a copied address. However, some apps may continuously steal clipboard information.</p><blockquote><p>‚ÄúA kitchen knife can be used to cut vegetables or to kill, depending on what the person using it intends to do.‚Äù</p></blockquote><p><a href="/assets/8a04443024e2/1*nMC1H2vRId1Y-7iC3WusaQ.jpeg" class="popup img-link "><img data-src="/assets/8a04443024e2/1*nMC1H2vRId1Y-7iC3WusaQ.jpeg" alt="" class="lazyload" data-proofer-ignore></a></p><p>The main reason the APP reads the clipboard when opened is to enhance the user experience through ‚Äú <a href="../b08ef940c196/">iOS Deferred Deep Link</a> ‚Äú, as shown in the process above. When a product offers both a web version and an APP, we prefer users to install the APP (as it has higher engagement). Therefore, when users browse the web version, they are guided to download the APP. We hope that after downloading and opening the APP, it will automatically open the page where the user left off on the web.</p><blockquote><p><em>EX: When I browse the PxHome mobile web version on Safari -&gt; see a product I like and want to buy -&gt; PxHome wants to direct traffic to the APP -&gt; download the APP -&gt; open the APP -&gt; display the product I saw on the web.</em></p></blockquote><p>If we don‚Äôt do this, users can only 1. Go back to the web and click again, or 2. Search for the product again in the APP. Both options increase the difficulty and hesitation time for users to make a purchase, which might result in them not buying at all!</p><p>From an operational perspective, knowing the source of successful installations is very helpful for marketing and advertising budget allocation.</p><h4 id="why-use-the-clipboard-are-there-any-alternatives"><span class="me-2">Why use the clipboard? Are there any alternatives?</span><a href="#why-use-the-clipboard-are-there-any-alternatives" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>This is a <strong>cat-and-mouse game</strong> because Apple does not want developers to have a way to track user sources. Before iOS 9, the method was to store information in web cookies and read them after the APP was installed. After iOS 10, Apple blocked this method. With no other options, everyone resorted to the final technique ‚Äî ‚Äúusing the clipboard to transmit information.‚Äù iOS 14 introduced a new feature that alerts users, making developers awkward.</p><p>Another method is using <a href="https://branch.io/" target="_blank">Branch.io</a> to record user profiles (IP, phone information) and then match the information. This is theoretically feasible but requires a lot of manpower (involving backend, database, APP) to research and implement, and it may result in misjudgments or collisions.</p><blockquote><p><em>*Android Google supports this feature natively, without the need for such workarounds.</em></p></blockquote><h4 id="affected-apps"><span class="me-2">Affected APPs</span><a href="#affected-apps" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Many APP developers may not know they also have clipboard privacy issues because Google‚Äôs Firebase Dynamic Links service uses the same principle:</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">// Reason for this string to ensure that only FDL links, copied to clipboard by AppPreview Page</span>
<span class="c1">// JavaScript code, are recognized and used in copy-unique-match process. If user copied FDL to</span>
<span class="c1">// clipboard by himself, that link must not be used in copy-unique-match process.</span>
<span class="c1">// This constant must be kept in sync with constant in the server version at</span>
<span class="c1">// durabledeeplink/click/ios/click_page.js</span>
</pre></table></code></div></div><blockquote><p>Therefore, any APP using Google‚Äôs Firebase Dynamic Links service may have clipboard privacy issues!</p></blockquote><h3 id="personal-opinion"><span class="me-2">Personal Opinion</span><a href="#personal-opinion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>There are security issues, but it boils down to <strong>trust</strong>. Trust that developers are doing the right thing. If developers want to do evil, there are more effective ways, such as stealing credit card information or recording real passwords.</p><blockquote><p>The purpose of the alert is to let users notice when the clipboard is being read. If it‚Äôs unreasonable, be cautious!</p></blockquote><h4 id="reader-questions"><span class="me-2">Reader Questions</span><a href="#reader-questions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Q: ‚ÄúTikTok responded that accessing the clipboard is to detect spam behavior.‚Äù Is this statement correct?</p><p>A: I personally think it‚Äôs just an excuse to appease public opinion. TikTok means ‚Äúto prevent users from copying and pasting ad messages everywhere.‚Äù But this can be done when the message is completed or sent, without constantly monitoring the user‚Äôs clipboard information. Do they also need to manage if the clipboard has ads or ‚Äúsensitive‚Äù information? I haven‚Äôt pasted and published it yet.</p><h3 id="what-developers-can-do"><span class="me-2">What Developers Can Do</span><a href="#what-developers-can-do" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If you don‚Äôt have a spare device to upgrade to iOS 14 for testing, you can download <a href="https://developer.apple.com/download/more/" target="_blank">XCode 12 from Apple</a> and test it using the simulator.</p><p>Everything is still very new. If you are using Firebase, you can refer to <a href="https://github.com/firebase/firebase-ios-sdk/issues/5893" target="_blank">Firebase-iOS-SDK/Issue #5893</a> and update to the latest SDK.</p><p>If you are implementing DeepLink yourself, you can refer to the modifications in Firebase-iOS-SDK <a href="https://github.com/firebase/firebase-ios-sdk/pull/5905" target="_blank">#PR 5905</a>:</p><p>Swift:</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="kd">#available(iOS 10.0, *)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="kt">UIPasteboard</span><span class="o">.</span><span class="n">general</span><span class="o">.</span><span class="n">hasURLs</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//UIPasteboard.general.string</span>
  <span class="p">}</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">//UIPasteboard.general.string</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Objective-C:</p><div class="language-c highlighter-rouge"><div class="code-header"> <span data-label-text="C"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="p">(</span><span class="err">@</span><span class="n">available</span><span class="p">(</span><span class="n">iOS</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">([[</span><span class="n">UIPasteboard</span> <span class="n">generalPasteboard</span><span class="p">]</span> <span class="n">hasURLs</span><span class="p">])</span> <span class="p">{</span>
      <span class="c1">//[UIPasteboard generalPasteboard].string;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">//[UIPasteboard generalPasteboard].string;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">pasteboardContents</span><span class="p">;</span>
<span class="err">}</span>
</pre></table></code></div></div><p>First, check if the clipboard content is a URL (in line with the content copied by web JavaScript being a URL with parameters). If it is, then read it, so the clipboard won‚Äôt be read every time the app is opened.</p><blockquote><p><em>Currently, this is the only way. The prompt will still appear, but it will be more focused.</em></p></blockquote><p>Additionally, Apple has introduced a new API: <a href="https://developer.apple.com/documentation/uikit/uipasteboard/3621870-detectpatternsforpatterns?changes=latest_minor&amp;language=objc" target="_blank">DetectPattern</a> to help developers more accurately determine if the clipboard information is what we need, then read it and prompt, making users feel more secure while developers can continue to use this feature.</p><blockquote><p><em>DetectPattern is still in Beta and can only be implemented using Objective-C.</em></p></blockquote><h4 id="or"><span class="me-2">Or‚Ä¶</span><a href="#or" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>Switch to <a href="https://branch.io" target="_blank">Branch.io</a><li>Implement the principle of Branch.io yourself<li><strong>The app first shows a customized alert to inform the user before reading the clipboard (to reassure the user)</strong><li>Add new privacy terms<li><strong>iOS 14‚Äôs latest App Clips? Web -&gt; Guide to App Clips for lightweight use -&gt; Deep operation guide to the app</strong></ul><h4 id="further-reading"><span class="me-2">Further Reading</span><a href="#further-reading" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li><a href="../b08ef940c196/">iOS Deferred Deep Link Implementation (Swift)</a><li><a href="../46410aaada00/">iOS+MacOS Using mitmproxy for Man-in-the-Middle Sniffing</a><li><a href="https://medium.com/zrealm-ios-dev/ios-15-macos-monterey-safari-%E5%B0%87%E8%83%BD%E9%9A%B1%E8%97%8F%E7%9C%9F%E5%AF%A6-ip-755a8b6acc35" target="_blank">iOS 15 / MacOS Monterey Safari Will Be Able to Hide Real IP</a></ul><p>If you have any questions or comments, feel free to <a href="https://www.zhgchg.li/contact" target="_blank">contact me</a>.</p><p>===</p><p><a href="https://zhgchg.li/posts/8a04443024e2/" target="_blank">Êú¨Êñá‰∏≠ÊñáÁâàÊú¨</a></p><p>===</p><p>This article was first published in Traditional Chinese on Medium ‚û°Ô∏è <a href="https://medium.com/p/8a04443024e2" target="_blank"><strong>View Here</strong></a></p><widgetic id="64ce71d5ecb2a165598b4567" resize="fill" width="560" height="60" autoscale="on" adaptive="414"></widgetic><script async src="https://widgetic.com/sdk/sdk.js"></script></div><hr/> <a href="https://www.buymeacoffee.com/zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="https://img.buymeacoffee.com/button-api/?text=Buy me a beer!&emoji=üç∫&slug=zhgchgli&button_colour=FFDD00&font_colour=000000&font_family=Bree&outline_colour=000000&coffee_colour=ffffff" class="lazyload" data-proofer-ignore></a> <br/> <a href="https://medium.com/@zhgchgli" target="_blank" class="img-link shimmer" ><img data-src="/assets/images/followmymedium.png" class="lazyload" data-proofer-ignore></a> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3184248473087645" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3184248473087645" data-ad-slot="7555148040"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/zrealm/'>ZRealm</a>, <a href='/categories/dev/'>Dev.</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/ios/" class="post-tag no-text-decoration" >ios</a> <a href="/tags/ios-app-development/" class="post-tag no-text-decoration" >ios-app-development</a> <a href="/tags/ios-14/" class="post-tag no-text-decoration" >ios-14</a> <a href="/tags/hacking/" class="post-tag no-text-decoration" >hacking</a> <a href="/tags/security/" class="post-tag no-text-decoration" >security</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=iOS%2014%20Clipboard%20Data%20Theft%20Panic:%20The%20Dilemma%20of%20Privacy%20and%20Convenience%20-%20ZhgChgLi&url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F8a04443024e2%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=iOS%2014%20Clipboard%20Data%20Theft%20Panic:%20The%20Dilemma%20of%20Privacy%20and%20Convenience%20-%20ZhgChgLi&u=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F8a04443024e2%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fen.zhgchg.li%2Fposts%2F8a04443024e2%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/d9a95d4224ea/">Medium Custom Domain Feature Returns</a><li class="text-truncate lh-lg"> <a href="/posts/483af5d93297/">Custom Domain Tutorial for Github Pages</a><li class="text-truncate lh-lg"> <a href="/posts/9e43897d99fc/">Behavior Change in Merging NSAttributedString Attributes Range in iOS ‚â• 18</a><li class="text-truncate lh-lg"> <a href="/posts/b08ef940c196/">iOS Deferred Deep Link Implementation (Swift)</a><li class="text-truncate lh-lg"> <a href="/posts/12c5026da33d/">What's New with Universal Links</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/7498e1ff93ce/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1585391080" data-df="ll" > Mar 28, 2020 </em><h4 class="pt-0 my-2" data-toc-skip>First Experience with iOS Reverse Engineering</h4><div class="text-muted small"><p> First Experience with iOS Reverse Engineering Exploring the process from jailbreaking, extracting iPA files, shelling, to UI analysis, injection, and decompilation About Security The only thing ...</p></div></div></a></div><div class="col"> <a href="/posts/46410aaada00/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1568973661" data-df="ll" > Sep 20, 2019 </em><h4 class="pt-0 my-2" data-toc-skip>The APP uses HTTPS for transmission, but the data was still stolen.</h4><div class="text-muted small"><p> The APP uses HTTPS for transmission, but the data was still stolen. Using mitmproxy on iOS+MacOS to perform a Man-in-the-middle attack to sniff API transmission data and how to prevent it? Introd...</p></div></div></a></div><div class="col"> <a href="/posts/e37d66ea1146/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1539454069" data-df="ll" > Oct 14, 2018 </em><h4 class="pt-0 my-2" data-toc-skip>iOS UITextView Text Wrapping Editor (Swift)</h4><div class="text-muted small"><p> iOS UITextView Text Wrapping Editor (Swift) Practical Route Target Functionality: The app has a discussion area where users can post articles. The interface for posting articles needs to support...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/cb00b1977537/" class="btn btn-outline-primary" prompt="Older" ><p>Real-World Codable Decoding Issues (Part 2)</p></a> <a href="/posts/41c49a75a743/" class="btn btn-outline-primary" prompt="Newer" ><p>Write Run Script Directly in Swift with Xcode!</p></a></div><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'ZhgChgLi/zhgchgli.github.io', 'data-repo-id': 'R_kgDOHdowLw', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOHdowL84CU-q6', 'data-mapping': 'url', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'en', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/ios-app-development/">ios-app-development</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/medium/">medium</a> <a class="post-tag btn btn-outline-primary" href="/tags/unboxing/">unboxing</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">Life</a> <a class="post-tag btn btn-outline-primary" href="/tags/japan/">japan</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/nsattributedstring/">nsattributedstring</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> <br/> <a href="https://zhgchg.li" target="_blank">‰∏≠ÊñáÁâàÁ∂≤Á´ô</a><br/> Powered by <a href="https://github.com/ZhgChgLi/ZMediumToMarkdown" target="_blank">ZMediumToMarkdown</a>.</p><p>¬© 2024 <a href="https://medium.com/@zhgchgli">ZhgChgLi</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >All rights reserved.</span></p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-JSGN97L56L"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-JSGN97L56L'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
